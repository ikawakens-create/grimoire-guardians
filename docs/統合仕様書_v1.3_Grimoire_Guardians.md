---
title: "çµ±åˆä»•æ§˜æ›¸"
version: "1.3"
date: "2026-02-19"
status: "æ‰¿èªæ¸ˆã¿"
author: "Claude"
reviewers: ["Gemini (æ‰¿èª)", "Human (æ‰¿èª)"]
project: "Grimoire Guardians"
phase: "Phase 0"
dependencies:
  - "UIè¨­è¨ˆæ›¸ v1.1"
  - "AIæŒ‡ç¤ºæ›¸ v1.1"
  - "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ— v1.1"
  - "ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ— v1.4"
changelog:
  - version: "1.0"
    date: "2026-02-15"
    changes: "åˆç‰ˆä½œæˆ"
  - version: "1.1"
    date: "2026-02-15"
    changes: "ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤å‰Šé™¤ã€ç­†è¨˜å•é¡ŒPhase 0åŒ–ã€ãƒ¯ãƒ¼ãƒ«ãƒ‰æ•°å‹•çš„åŒ–ã€ã‚¤ãƒ™ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ è©³ç´°è¿½è¨˜ã€è²©å£²ãƒ¢ãƒ‡ãƒ«è©³ç´°åŒ–"
  - version: "1.3"
    date: "2026-02-19"
    changes: "Week3ä»•æ§˜è¿½åŠ : ResultScreenè©³ç´°(æ˜Ÿè©•ä¾¡/èŠ±ä¸¸æ¼”å‡º/ClearScreençµ±åˆ)ã€EventManagerè¿½åŠ ã€streakçŠ¶æ…‹è¿½åŠ ã€IndexedDB fallbackæ–¹é‡"
  - version: "1.4"
    date: "2026-02-22"
    changes: "ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥è¿½åŠ (8-4): GitHub Pagesï¼ˆé–‹ç™ºç”¨ï¼‰â†’ æœ¬ç•ªç§»è¡Œã®æ‰‹é †ãƒ»ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’æ˜è¨˜"
  - version: "1.5"
    date: "2026-02-26"
    changes: "ã‚¢ã‚»ãƒƒãƒˆç®¡ç†æ–¹é‡è¿½åŠ (8-5): ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆç§»è¡Œãƒˆãƒªã‚¬ãƒ¼ãƒ»åŸºæº–ã‚’æ˜è¨˜ã€‚Phase 1-C ããŠãã®ã„ã›ãå®Ÿè£…ã«ä¼´ã†ç”»åƒã‚«ãƒ†ã‚´ãƒªæ•´ç†"
  - version: "1.2"
    date: "2026-02-15"
    changes: "Geminiãƒ¬ãƒ“ãƒ¥ãƒ¼åæ˜ : ãƒ¬ã‚¢ãªé“åç§°çµ±ä¸€ã€ãŠã¿ãã˜UIè©³ç´°ã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¾©å…ƒã€ãƒ‡ãƒ¼ã‚¿ä¿è­·ã€ç­†è¨˜å•é¡Œä»•æ§˜ç¢ºå®š"
git_commit: ""
---

# ğŸ“˜ çµ±åˆä»•æ§˜æ›¸ v1.3
## Grimoire Guardians - æ•™è‚²ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒª å®Œå…¨ä»•æ§˜

## ğŸ¯ ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„

Grimoire Guardiansãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®**å…¨ä½“ä»•æ§˜ã‚’çµ±åˆçš„ã«è¨˜è¿°**ã—ã€é–‹ç™ºè€…ï¼ˆAIãƒ»äººé–“ï¼‰ãŒå®Ÿè£…æ™‚ã«å‚ç…§ã™ã‚‹å”¯ä¸€ã®çœŸå®Ÿï¼ˆSingle Source of Truthï¼‰ã¨ã™ã‚‹ã€‚

### å¯¾è±¡èª­è€…
1. **Claude Codeï¼ˆWebç‰ˆï¼‰** - å®Ÿè£…æ™‚ã®å‚ç…§
2. **é–‹ç™ºè€…ï¼ˆäººé–“ï¼‰** - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®ç†è§£
3. **ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼** - ä»•æ§˜ã®å¦¥å½“æ€§ç¢ºèª

### æˆåŠŸåŸºæº–
1. ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã ã‘ã§Phase 0ãŒå®Ÿè£…ã§ãã‚‹
2. Deep Researchçµæœã‚’å®¹æ˜“ã«å–ã‚Šè¾¼ã‚ã‚‹
3. å°†æ¥ã®æ‹¡å¼µï¼ˆDLCã€æ–°æ©Ÿèƒ½ï¼‰ã«å¯¾å¿œã§ãã‚‹

---

## ğŸ“š ç›®æ¬¡

1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
2. [Phase 0 ã‚¹ã‚³ãƒ¼ãƒ—å®šç¾©](#2-phase-0-ã‚¹ã‚³ãƒ¼ãƒ—å®šç¾©)
3. [ãƒ‡ãƒ¼ã‚¿æ§‹é€ è¨­è¨ˆ](#3-ãƒ‡ãƒ¼ã‚¿æ§‹é€ è¨­è¨ˆ)
4. [ç”»é¢é·ç§»ãƒ•ãƒ­ãƒ¼](#4-ç”»é¢é·ç§»ãƒ•ãƒ­ãƒ¼)
5. [è²©å£²ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆ](#5-è²©å£²ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆ)
6. [ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ‹¡å¼µè¨­è¨ˆ](#6-ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ‹¡å¼µè¨­è¨ˆ)
7. [ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿äº’æ›æ€§](#7-ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿äº’æ›æ€§)
8. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#8-æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
   - [8-4. ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥ï¼ˆå…¬é–‹ãƒ»æœ¬ç•ªç§»è¡Œè¨ˆç”»ï¼‰](#8-4-ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥å…¬é–‹æœ¬ç•ªç§»è¡Œè¨ˆç”»)
   - [8-5. ã‚¢ã‚»ãƒƒãƒˆç®¡ç†æ–¹é‡ï¼ˆã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆç§»è¡ŒåŸºæº–ï¼‰](#8-5-ã‚¢ã‚»ãƒƒãƒˆç®¡ç†æ–¹é‡ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆç§»è¡ŒåŸºæº–)
9. [é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼ˆæ¦‚è¦ï¼‰](#9-é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—æ¦‚è¦)
10. [ã‚¤ãƒ™ãƒ³ãƒˆãƒ»æ¼”å‡ºã‚·ã‚¹ãƒ†ãƒ è©³ç´°](#10-ã‚¤ãƒ™ãƒ³ãƒˆæ¼”å‡ºã‚·ã‚¹ãƒ†ãƒ è©³ç´°)
11. [ç´ æãƒ»ãƒ‰ãƒ­ãƒƒãƒ—ã‚·ã‚¹ãƒ†ãƒ è©³ç´°](#11-ç´ æãƒ‰ãƒ­ãƒƒãƒ—ã‚·ã‚¹ãƒ†ãƒ è©³ç´°)
12. [P0è‡ªå·±QA](#12-p0è‡ªå·±qa)

---

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### 1-1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
**Grimoire Guardiansï¼ˆã‚°ãƒªãƒ¢ã‚¢ãƒ»ã‚¬ãƒ¼ãƒ‡ã‚£ã‚¢ãƒ³ã‚ºï¼‰**  
é­”å°æ›¸ã®å®ˆè­·è€…

### 1-2. ã‚³ãƒ³ã‚»ãƒ—ãƒˆ
å°å­¦ç”ŸãŒ**æ¥½ã—ãå‹‰å¼·ã§ãã‚‹**æ•™è‚²ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã€‚  
RPGé¢¨ã®ä¸–ç•Œè¦³ã§ã€å•é¡Œã‚’è§£ãã“ã¨ã§æ•µã‚’å€’ã—ã€ç‰©èªã‚’é€²ã‚ã‚‹ã€‚

### 1-3. ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼
- **ä¸»è¦**: å°å­¦1å¹´ç”Ÿã€œ6å¹´ç”Ÿï¼ˆ6æ­³ã€œ12æ­³ï¼‰
- **å‰¯æ¬¡**: ä¿è­·è€…ï¼ˆå­¦ç¿’é€²æ—ã®ç¢ºèªï¼‰
- **ç’°å¢ƒ**: ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç«¯æœ«ï¼ˆæ¨ªå‘ãå°‚ç”¨ï¼‰

### 1-4. æ•™è‚²ç›®æ¨™
- è¨ˆç®—åŠ›ã®å‘ä¸Šï¼ˆPhase 0: ç®—æ•°ï¼‰
- å­¦ç¿’ç¿’æ…£ã®å®šç€
- é”æˆæ„Ÿã¨è‡ªå·±è‚¯å®šæ„Ÿã®å‘ä¸Š

### 1-5. ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«
- **æœ¬ä½“**: å£²ã‚Šåˆ‡ã‚Šå‹ï¼ˆä¾¡æ ¼ã¯å“è³ªã«å¿œã˜ã¦å¾Œæ±ºå®šï¼‰
- **DLC**: è¿½åŠ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆç§‘ç›®ãƒ»å­¦å¹´ã”ã¨ï¼‰
- **é…ä¿¡**: PWAï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ç‰ˆï¼‰ã€å°†æ¥çš„ã«ã‚¢ãƒ—ãƒªã‚¹ãƒˆã‚¢å¯¾å¿œ

---

## 2. Phase 0 ã‚¹ã‚³ãƒ¼ãƒ—å®šç¾©

### 2-1. Phase 0ã®ç›®çš„
MVPï¼ˆMinimum Viable Productï¼‰ã¨ã—ã¦ã€**æœ€å°é™ã®æ©Ÿèƒ½ã§å‹•ä½œã™ã‚‹ã‚¢ãƒ—ãƒª**ã‚’ä½œæˆã€‚  
ä»¥ä¸‹ã®æ¤œè¨¼ã‚’è¡Œã†:
1. æŠ€è¡“çš„å®Ÿç¾å¯èƒ½æ€§ï¼ˆPWAã€Pure JSï¼‰
2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ï¼ˆæ¥½ã—ã•ã€ã‚ã‹ã‚Šã‚„ã™ã•ï¼‰
3. è²©å£²ãƒ¢ãƒ‡ãƒ«ã®å¦¥å½“æ€§

### 2-2. Phase 0 ã«å«ã¾ã‚Œã‚‹æ©Ÿèƒ½

#### å¯¾è±¡ç¯„å›²
- **æ•™ç§‘**: ç®—æ•°ã®ã¿
- **å­¦å¹´**: 1å¹´ç”Ÿã®ã¿
- **å•é¡Œã‚¿ã‚¤ãƒ—**: è¨ˆç®—å•é¡Œã€ç­†è¨˜å•é¡Œï¼ˆv1.1è¿½åŠ ï¼‰
- **å˜å…ƒæ•°**: **å›ºå®šã—ãªã„**ï¼ˆDeep Researchçµæœã«åŸºã¥ã„ã¦å‹•çš„ã«æ±ºå®šï¼‰

#### å®Ÿè£…ã™ã‚‹ç”»é¢
1. **æœ¬æ£šç”»é¢** - ãƒ¯ãƒ¼ãƒ«ãƒ‰é¸æŠ
2. **å•é¡Œç”»é¢** - å•é¡Œè¡¨ç¤ºã€å›ç­”ã€åˆ¤å®š
3. **çµæœç”»é¢** - ã‚¹ã‚³ã‚¢è¡¨ç¤ºã€çµ±è¨ˆ
4. **ã‚¯ãƒªã‚¢æ¼”å‡ºç”»é¢** - ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚¯ãƒªã‚¢æ™‚

#### å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½
- ã‚»ãƒ¼ãƒ–/ãƒ­ãƒ¼ãƒ‰ï¼ˆIndexedDBï¼‰
- é€²æ—ç®¡ç†
- ã‚¹ã‚³ã‚¢è¨ˆç®—
- ã‚¯ãƒªã‚¢æ¼”å‡ºï¼ˆæ–¬æ’ƒã‚¨ãƒ•ã‚§ã‚¯ãƒˆã€æ’ƒç ´ã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼‰
- æ¨ªå‘ãå›ºå®š
- ã‚¿ãƒƒãƒãƒªãƒƒãƒ—ãƒ«
- **ç­†è¨˜å•é¡Œï¼ˆåŸºæœ¬UIï¼‰** â† v1.1è¿½åŠ ï¼ˆPhase 1ã‹ã‚‰å‰å€’ã—ï¼‰
- **ã‚¤ãƒ™ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ** â† v1.1è¿½åŠ 
- **ç´ æãƒ‰ãƒ­ãƒƒãƒ—ã‚·ã‚¹ãƒ†ãƒ ** â† v1.1è¿½åŠ 

#### ãƒ¢ãƒƒã‚¯å®Ÿè£…ï¼ˆPhase 1ã§å®Ÿè£…ï¼‰
- ã‚µã‚¦ãƒ³ãƒ‰ï¼ˆSoundManager: ãƒ­ã‚°å‡ºåŠ›ã®ã¿ï¼‰
- æŒ¯å‹•ï¼ˆHapticFeedback: ãƒ­ã‚°å‡ºåŠ›ã®ã¿ï¼‰

### 2-3. Phase 0 ã«å«ã¾ã‚Œãªã„æ©Ÿèƒ½

#### å•é¡Œã‚¿ã‚¤ãƒ—
- å›³å½¢å•é¡Œ
- ç”»åƒå•é¡Œ
- ~~ç­†è¨˜å•é¡Œ~~ â† v1.1ã§Phase 0ã«ç§»å‹•

#### æ©Ÿèƒ½
- ããŠãã®ã„ã›ãï¼ˆå¾©ç¿’æ©Ÿèƒ½ï¼‰
- ã‚¹ã‚­ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
- å®¶ãƒ“ãƒ«ãƒ‰
- ~~ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤~~ â† v1.1ã§å®Œå…¨å‰Šé™¤
- ãƒ©ãƒ³ã‚­ãƒ³ã‚°

#### æ•™ç§‘ãƒ»å­¦å¹´
- ç®—æ•°2å¹´ç”Ÿä»¥é™
- å›½èªã€ç†ç§‘ã€ç¤¾ä¼šã€è‹±èª

---

## 3. ãƒ‡ãƒ¼ã‚¿æ§‹é€ è¨­è¨ˆ

### 3-1. å˜å…ƒãƒãƒƒãƒ”ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ï¼ˆæœ€é‡è¦ï¼‰

#### 3-1-1. è¨­è¨ˆæ€æƒ³

```
å•é¡Œ: ãƒ¯ãƒ¼ãƒ«ãƒ‰æ•°ã‚’äº‹å‰ã«å›ºå®šã§ããªã„

ç†ç”±:
- å°å­¦1å¹´ç”Ÿã®ç®—æ•°å˜å…ƒæ•°ãŒä¸æ˜
- Deep Researchã§å˜å…ƒåˆ¥æƒ…å ±ã‚’å¾Œã§å–å¾—
- æ–‡éƒ¨ç§‘å­¦çœã®å­¦ç¿’æŒ‡å°è¦é ˜ã«æº–æ‹ 

è§£æ±ºç­–: å˜å…ƒãƒãƒƒãƒ”ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ 
- å˜å…ƒæƒ…å ±ã‚’å‹•çš„ã«ç®¡ç†
- Deep Researchçµæœã‚’å–ã‚Šè¾¼ã‚ã‚‹æ§‹é€ 
- ãƒ¯ãƒ¼ãƒ«ãƒ‰æ•°ã¯å˜å…ƒæ•°ã«å¿œã˜ã¦è‡ªå‹•æ±ºå®š
```

#### 3-1-2. å˜å…ƒãƒãƒƒãƒ”ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

```javascript
// src/data/curriculum/math-grade1-mapping.js
// @ts-check

/**
 * ç®—æ•°1å¹´ç”Ÿã®å˜å…ƒãƒãƒƒãƒ”ãƒ³ã‚°
 * Deep Researchçµæœã‚’å…ƒã«ä½œæˆï¼ˆå¾Œã§æ›´æ–°ï¼‰
 * 
 * @typedef {Object} UnitMapping
 * @property {string} id - å˜å…ƒID
 * @property {string} name - å˜å…ƒå
 * @property {number} order - å­¦ç¿’é †åº
 * @property {string} category - ã‚«ãƒ†ã‚´ãƒª
 * @property {number} difficulty - é›£æ˜“åº¦ï¼ˆ1-5ï¼‰
 * @property {string[]} prerequisites - å‰æå˜å…ƒ
 * @property {number} estimatedQuestions - æƒ³å®šå•é¡Œæ•°
 */

export const mathGrade1Mapping = {
  meta: {
    subject: 'math',
    grade: 1,
    source: 'Deep Researchï¼ˆæ–‡éƒ¨ç§‘å­¦çœå­¦ç¿’æŒ‡å°è¦é ˜ï¼‰',
    lastUpdated: '2026-02-15',
    version: '1.0'
  },
  
  units: [
    {
      id: 'unit_001',
      name: '10ã¾ã§ã®ã‹ãš',
      order: 1,
      category: 'number',
      difficulty: 1,
      prerequisites: [],
      estimatedQuestions: 5,
      description: '1ã‹ã‚‰10ã¾ã§ã®æ•°ã‚’ç†è§£ã—ã€æ•°ãˆã‚‹'
    },
    {
      id: 'unit_002',
      name: 'ãŸã—ã–ã‚“ï¼ˆ1ã‘ãŸï¼‰',
      order: 2,
      category: 'calculation',
      difficulty: 2,
      prerequisites: ['unit_001'],
      estimatedQuestions: 10,
      description: '1æ¡ã®è¶³ã—ç®—ï¼ˆç¹°ã‚Šä¸ŠãŒã‚Šãªã—ï¼‰'
    },
    {
      id: 'unit_003',
      name: 'ã²ãã–ã‚“ï¼ˆ1ã‘ãŸï¼‰',
      order: 3,
      category: 'calculation',
      difficulty: 2,
      prerequisites: ['unit_001'],
      estimatedQuestions: 10,
      description: '1æ¡ã®å¼•ãç®—ï¼ˆç¹°ã‚Šä¸‹ãŒã‚Šãªã—ï¼‰'
    },
    // ... Deep Researchå¾Œã«è¿½åŠ 
    // å®Ÿç¸¾: 16å˜å…ƒï¼ˆãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—v1.4å‚ç…§ï¼‰
  ],
  
  // å˜å…ƒã‚’ãƒ¯ãƒ¼ãƒ«ãƒ‰ã«ãƒãƒƒãƒ”ãƒ³ã‚°
  worldMapping: {
    strategy: 'one-unit-per-world',  // 1å˜å…ƒ = 1ãƒ¯ãƒ¼ãƒ«ãƒ‰
    // ã¾ãŸã¯ 'grouped-units'  // é–¢é€£å˜å…ƒã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
  }
};

/**
 * å˜å…ƒã‹ã‚‰ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚’ç”Ÿæˆ
 */
export function generateWorlds(mapping) {
  return mapping.units.map((unit, index) => ({
    id: `world_${index + 1}`,
    unitId: unit.id,
    title: unit.name,
    description: unit.description,
    difficulty: unit.difficulty,
    questionsCount: unit.estimatedQuestions,
    icon: getIconForCategory(unit.category),
    locked: index > 0  // æœ€åˆã®ãƒ¯ãƒ¼ãƒ«ãƒ‰ä»¥å¤–ã¯ãƒ­ãƒƒã‚¯
  }));
}

function getIconForCategory(category) {
  const icons = {
    'number': 'ğŸ”¢',
    'calculation': 'â•',
    'shape': 'ğŸ”·',
    'measurement': 'ğŸ“',
    'graph': 'ğŸ“Š'
  };
  return icons[category] || 'ğŸ“˜';
}
```

#### 3-1-3. Deep Researchçµæœã®å–ã‚Šè¾¼ã¿ãƒ•ãƒ­ãƒ¼

```mermaid
graph TD
    A[Deep Researchå®Ÿæ–½] --> B[å˜å…ƒåˆ¥æƒ…å ±å–å¾—]
    B --> C[å˜å…ƒãƒãƒƒãƒ”ãƒ³ã‚°ä½œæˆ]
    C --> D[math-grade1-mapping.jsæ›´æ–°]
    D --> E[ãƒ¯ãƒ¼ãƒ«ãƒ‰è‡ªå‹•ç”Ÿæˆ]
    E --> F[å•é¡Œãƒ‡ãƒ¼ã‚¿ä½œæˆ]
    F --> G[Phase 0å®Ÿè£…å®Œäº†]
```

### 3-2. å•é¡Œãƒ‡ãƒ¼ã‚¿æ§‹é€ 

```javascript
// src/data/questions/math-grade1.js
// @ts-check

/**
 * å•é¡Œãƒ‡ãƒ¼ã‚¿æ§‹é€ 
 * 
 * @typedef {Object} Question
 * @property {string} id - å•é¡ŒID
 * @property {string} unitId - å˜å…ƒIDï¼ˆå˜å…ƒãƒãƒƒãƒ”ãƒ³ã‚°ã¨ç´ä»˜ã‘ï¼‰
 * @property {string} type - å•é¡Œã‚¿ã‚¤ãƒ—
 * @property {Object} content - å•é¡Œå†…å®¹ï¼ˆã‚¿ã‚¤ãƒ—ã”ã¨ã«ç•°ãªã‚‹ï¼‰
 * @property {number[]} choices - é¸æŠè‚¢
 * @property {number} correctAnswer - æ­£è§£
 * @property {number} difficulty - é›£æ˜“åº¦ï¼ˆ1-5ï¼‰
 */

export const questions = [
  {
    id: 'q_math_g1_u001_001',
    unitId: 'unit_001',  // '10ã¾ã§ã®ã‹ãš'
    type: 'calculation',
    content: {
      operand1: 3,
      operator: '+',
      operand2: 2
    },
    choices: [4, 5, 6, 7],
    correctAnswer: 5,
    difficulty: 1
  },
  {
    id: 'q_math_g1_u002_001',
    unitId: 'unit_002',  // 'ãŸã—ã–ã‚“ï¼ˆ1ã‘ãŸï¼‰'
    type: 'calculation',
    content: {
      operand1: 4,
      operator: '+',
      operand2: 5
    },
    choices: [7, 8, 9, 10],
    correctAnswer: 9,
    difficulty: 2
  },
  // ... å˜å…ƒã”ã¨ã«å•é¡Œã‚’è¿½åŠ 
];

/**
 * å•é¡Œãƒ‡ãƒ¼ã‚¿ã®æ‹¡å¼µæ€§
 * Phase 0: è¨ˆç®—å•é¡Œã€ç­†è¨˜å•é¡Œ
 * Phase 1ä»¥é™ã®å•é¡Œã‚¿ã‚¤ãƒ—ã«å¯¾å¿œ
 */
const questionTypeExamples = {
  // Phase 0: è¨ˆç®—å•é¡Œ
  calculation: {
    operand1: 3,
    operator: '+',
    operand2: 5
  },
  
  // Phase 0: ç­†è¨˜å•é¡Œï¼ˆv1.2ä»•æ§˜ç¢ºå®šï¼‰
  handwriting: {
    targetNumber: 8,
    question: '8ã‚’ ã‹ã„ã¦ ã¿ã‚ˆã†',
    validationMethod: 'simple_shape_matching',  // ç°¡æ˜“çš„ãªå½¢çŠ¶ãƒãƒƒãƒãƒ³ã‚°
    tolerance: 0.8  // 80%ã®ç²¾åº¦ã§OKï¼ˆå¯›å®¹ãªåˆ¤å®šï¼‰
  },
  
  // Phase 1: å›³å½¢å•é¡Œ
  shape: {
    shapeType: 'triangle',
    question: 'ã“ã®å½¢ã®åå‰ã¯ï¼Ÿ',
    imageUrl: './assets/shapes/triangle.svg'
  },
  
  // Phase 1: ç”»åƒå•é¡Œ
  image: {
    imageUrl: './assets/images/apples.png',
    question: 'ã‚Šã‚“ã”ã¯ã„ãã¤ã‚ã‚Šã¾ã™ã‹ï¼Ÿ'
  }
};
```

### 3-3. ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

```javascript
// ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆIndexedDBï¼‰
const saveDataSchema = {
  version: '1.0.0',
  
  // ã‚³ã‚¢ãƒ‡ãƒ¼ã‚¿ï¼ˆPhase 0ï¼‰
  core: {
    player: {
      name: 'ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼',
      createdAt: '2026-02-15T12:00:00Z',
      lastPlayedAt: '2026-02-15T14:30:00Z'
    },
    
    progress: {
      subject: 'math',
      grade: 1,
      
      // ãƒ¯ãƒ¼ãƒ«ãƒ‰ã”ã¨ã®é€²æ—
      worlds: {
        'world_1': {
          unitId: 'unit_001',
          cleared: true,
          score: 5,
          maxScore: 5,
          attempts: 1,
          clearedAt: '2026-02-15T13:00:00Z'
        },
        'world_2': {
          unitId: 'unit_002',
          cleared: false,
          score: 3,
          maxScore: 10,
          attempts: 2,
          clearedAt: null
        }
        // ... å‹•çš„ã«è¿½åŠ 
      },
      
      // çµ±è¨ˆæƒ…å ±
      stats: {
        totalQuestions: 50,
        correctAnswers: 45,
        accuracy: 0.9,
        totalPlayTime: 3600  // ç§’
      }
    },

    // ã‚¯ã‚¤ã‚ºã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼ˆãƒ¡ãƒ¢ãƒªã®ã¿ãƒ»ä¿å­˜ä¸è¦ï¼‰
    currentSession: {
      worldId: null,
      unitId: null,
      questions: [],
      answers: [],
      rewardMultiplier: 1.0,
      shieldActive: false,
      streak: 0,        // â† v1.3è¿½åŠ : ç¾åœ¨ã®é€£ç¶šæ­£è§£æ•°ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ãƒªã‚»ãƒƒãƒˆï¼‰
      maxStreak: 0      // â† v1.3è¿½åŠ : ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸­ã®æœ€å¤§é€£ç¶šæ­£è§£æ•°ï¼ˆResultScreenã§è¡¨ç¤ºç”¨ï¼‰
    },
    
    // ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªï¼ˆv1.1è¿½åŠ ï¼‰
    inventory: {
      materials: {
        wood: 23,
        stone: 15,
        brick: 5,
        gem: 2,
        star_fragment: 1
      }
    }
  },
  
  // DLCãƒ‡ãƒ¼ã‚¿ï¼ˆPhase 1ä»¥é™ï¼‰
  dlc: {
    installed: [],  // ['math-grade2', 'japanese-grade1']
    data: {}
  }
};
```

### 3-4. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

```javascript
// ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†
const licenseSchema = {
  // æœ¬ä½“ãƒ©ã‚¤ã‚»ãƒ³ã‚¹
  core: {
    licensed: false,
    licenseKey: '',
    activatedAt: null,
    expiresAt: null  // å£²ã‚Šåˆ‡ã‚Šãªã®ã§null
  },
  
  // DLCãƒ©ã‚¤ã‚»ãƒ³ã‚¹
  dlc: {
    'math-grade2': {
      licensed: false,
      licenseKey: '',
      activatedAt: null
    },
    'japanese-grade1': {
      licensed: false,
      licenseKey: '',
      activatedAt: null
    }
    // ... è¿½åŠ DLC
  }
};
```

---

## 4. ç”»é¢é·ç§»ãƒ•ãƒ­ãƒ¼

### 4-1. ç”»é¢é·ç§»å›³

```mermaid
stateDiagram-v2
    [*] --> èµ·å‹•ç”»é¢
    èµ·å‹•ç”»é¢ --> æœ¬æ£šç”»é¢: ãƒ­ãƒ¼ãƒ‰å®Œäº†
    
    æœ¬æ£šç”»é¢ --> å•é¡Œç”»é¢: ãƒ¯ãƒ¼ãƒ«ãƒ‰é¸æŠ
    å•é¡Œç”»é¢ --> ã‚¤ãƒ™ãƒ³ãƒˆç”»é¢: ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿ
    ã‚¤ãƒ™ãƒ³ãƒˆç”»é¢ --> å•é¡Œç”»é¢: ã‚¤ãƒ™ãƒ³ãƒˆå®Œäº†
    å•é¡Œç”»é¢ --> çµæœç”»é¢: å…¨å•å›ç­”
    çµæœç”»é¢ --> ã‚¯ãƒªã‚¢æ¼”å‡º: ã‚¯ãƒªã‚¢æ¡ä»¶é”æˆ
    çµæœç”»é¢ --> æœ¬æ£šç”»é¢: ã‚¯ãƒªã‚¢æ¡ä»¶æœªé”æˆ
    ã‚¯ãƒªã‚¢æ¼”å‡º --> æœ¬æ£šç”»é¢: æ¼”å‡ºçµ‚äº†
    
    æœ¬æ£šç”»é¢ --> ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å…¥åŠ›: ãƒ­ãƒƒã‚¯ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚¿ãƒƒãƒ—
    ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å…¥åŠ› --> æœ¬æ£šç”»é¢: èªè¨¼æˆåŠŸ/ã‚­ãƒ£ãƒ³ã‚»ãƒ«
    
    æœ¬æ£šç”»é¢ --> ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªç”»é¢: ã‚‚ã¡ã‚‚ã®ã‚¿ãƒƒãƒ—
    ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªç”»é¢ --> æœ¬æ£šç”»é¢: æˆ»ã‚‹
```

### 4-2. å„ç”»é¢ã®è©³ç´°

#### èµ·å‹•ç”»é¢
- **ç›®çš„**: ãƒªã‚½ãƒ¼ã‚¹èª­ã¿è¾¼ã¿ã€åˆæœŸåŒ–
- **è¡¨ç¤ºæ™‚é–“**: 3ç§’ä»¥å†…
- **å‡¦ç†**:
  1. IndexedDBåˆæœŸåŒ–
  2. ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
  3. å˜å…ƒãƒãƒƒãƒ”ãƒ³ã‚°èª­ã¿è¾¼ã¿
  4. ãƒ¯ãƒ¼ãƒ«ãƒ‰ç”Ÿæˆ

#### æœ¬æ£šç”»é¢
- **ç›®çš„**: ãƒ¯ãƒ¼ãƒ«ãƒ‰é¸æŠ
- **è¡¨ç¤ºå†…å®¹**:
  - ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ï¼ˆå‹•çš„ç”Ÿæˆï¼‰
  - é€²æ—è¡¨ç¤ºï¼ˆ%ï¼‰
  - ãƒ­ãƒƒã‚¯/ã‚¢ãƒ³ãƒ­ãƒƒã‚¯è¡¨ç¤º
  - ã€Œã‚‚ã¡ã‚‚ã®ã€ãƒœã‚¿ãƒ³ï¼ˆv1.1è¿½åŠ ï¼‰
- **æ“ä½œ**:
  - ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚¿ãƒƒãƒ— â†’ å•é¡Œç”»é¢
  - ãƒ­ãƒƒã‚¯ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚¿ãƒƒãƒ— â†’ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å…¥åŠ›
  - ã‚‚ã¡ã‚‚ã®ã‚¿ãƒƒãƒ— â†’ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªç”»é¢

#### å•é¡Œç”»é¢
- **ç›®çš„**: å•é¡Œã‚’è§£ã
- **è¡¨ç¤ºå†…å®¹**:
  - å•é¡Œæ–‡ï¼ˆ3 + 5 = ?ï¼‰
  - é¸æŠè‚¢ï¼ˆ4ã¤ï¼‰ã¾ãŸã¯æ‰‹æ›¸ãå…¥åŠ›ã‚¨ãƒªã‚¢
  - é€²æ—è¡¨ç¤ºï¼ˆ1/5å•ç›®ï¼‰
  - ã‚¿ã‚¤ãƒãƒ¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  - å ±é…¬å€ç‡ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆv1.1è¿½åŠ ï¼‰
- **æ“ä½œ**:
  - é¸æŠè‚¢ã‚¿ãƒƒãƒ— â†’ æ­£è§£/ä¸æ­£è§£åˆ¤å®š â†’ æ¬¡ã®å•é¡Œ
  - ç­†è¨˜å•é¡Œ: æ‰‹æ›¸ãå…¥åŠ› â†’ èªè­˜ â†’ åˆ¤å®š
  - ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ â†’ ã‚¤ãƒ™ãƒ³ãƒˆç”»é¢ã¸é·ç§»
  - å…¨å•å›ç­” â†’ çµæœç”»é¢

#### ã‚¤ãƒ™ãƒ³ãƒˆç”»é¢ï¼ˆv1.1è¿½åŠ ï¼‰
- **ç›®çš„**: ã‚¤ãƒ™ãƒ³ãƒˆå®Ÿè¡Œï¼ˆãŠã¿ãã˜ã€3æŠã®é“ã€ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ãƒãƒˆãƒ«ã€å®ç®±ï¼‰
- **è©³ç´°**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³10å‚ç…§

#### çµæœç”»é¢ï¼ˆv1.3è©³ç´°åŒ–ãƒ»ClearScreençµ±åˆï¼‰
- **ç›®çš„**: ã‚¹ã‚³ã‚¢è¡¨ç¤ºã€ã‚¯ãƒªã‚¢åˆ¤å®šã€é”æˆæ¼”å‡º
- **ã‚¯ãƒªã‚¢æ¡ä»¶**: 60%ä»¥ä¸Šæ­£è§£
- **è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰**: `mode: 'clear' | 'perfect' | 'fail'` ã§å†…éƒ¨åˆ‡ã‚Šæ›¿ãˆ
  - â€»æ—§ã€Œã‚¯ãƒªã‚¢æ¼”å‡ºç”»é¢ï¼ˆClearScreenï¼‰ã€ã‚’ã“ã®ç”»é¢ã«çµ±åˆ

##### ğŸŒŸ ã‚¯ãƒªã‚¢æ™‚ï¼ˆ60%ä»¥ä¸Šï¼‰
- **æ˜Ÿè©•ä¾¡**:
  - â­      60ã€œ79%
  - â­â­    80ã€œ89%
  - â­â­â­  90ã€œ100%
- **æ¼”å‡º**:
  1. æ˜ŸãŒã²ã¨ã¤ãšã¤é£›ã³è¾¼ã‚“ã§ãã‚‹ï¼ˆbounce-inï¼‰
  2. ã‚¹ã‚¿ãƒ¼æ•°ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
  3. å ±é…¬å€ç‡ï¼ˆãŠã¿ãã˜ãƒãƒ•ï¼‰é©ç”¨æ¼”å‡ºï¼ˆå€ç‡ã‚ã‚Šæ™‚ã®ã¿ï¼‰
  4. ç²å¾—ç´ æã‚«ãƒ¼ãƒ‰ã‚ãã‚Šæ¼”å‡ºï¼ˆ1æšãšã¤é †ã«è¡¨ç¤ºï¼‰
  5. ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿æ›´æ–°ï¼ˆcleared: trueã€æ¬¡ãƒ¯ãƒ¼ãƒ«ãƒ‰è§£æ”¾ï¼‰
- **ãƒœã‚¿ãƒ³**: ã€Œã‚‚ã†ä¸€ã„ã‹ã„ã€ã€Œæœ¬æ£šã¸ã€

##### ğŸŒ¸ æœªã‚¯ãƒªã‚¢æ™‚ï¼ˆ60%æœªæº€ï¼‰â€” ãŒã‚“ã°ã£ãŸã§è³
- **èŠ±ä¸¸æ¼”å‡º**ï¼ˆSVG stroke-dashoffset ã«ã‚ˆã‚‹ãƒšãƒ³æ›¸ãé¢¨ï¼‰:
  1. `0.0s` ç”»é¢ã«æš–ã‹ã„ãƒ”ãƒ³ã‚¯ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤
  2. `0.1s` å¤§ããªèŠ±ä¸¸ãŒã‚†ã£ãã‚Šæã‹ã‚Œã‚‹ï¼ˆ0.8ç§’ã€å¤ªã„æ‰‹æ›¸ãç·šï¼‰
  3. `0.9s` å††ãŒé–‰ã˜ãŸç¬é–“ã« âœ¨ 8æ–¹å‘ãƒãƒ¼ã‚¹ãƒˆ
  4. `1.0s` ã€Œã¯ãªã¾ã‚‹ï¼ã€ã‚¹ã‚¿ãƒ³ãƒ—ï¼ˆä¸­å¤®ã€-15degã€scale bounceï¼‰
  5. `1.2s` ğŸŒ¸ğŸŒŸğŸ’« ã‚·ãƒ£ãƒ¯ãƒ¼ï¼ˆJSç”Ÿæˆ20å€‹ã€2ç§’é–“ãµã‚ãµã‚è½ä¸‹ï¼‰
  6. `1.8s` ã€Œã‚ˆã ãŒã‚“ã°ã£ãŸã­ï¼ã€ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¤ãƒ³
  7. `2.0s` ã€Œã¾ãˆã‚ˆã‚Š â—‹ã‚‚ã‚“ ãµãˆãŸã‚ˆï¼ã€ï¼ˆè¨˜éŒ²æ¯”è¼ƒã€åˆå›ã¯éè¡¨ç¤ºï¼‰
  8. `2.5s` ãƒœã‚¿ãƒ³å‡ºç¾
- **ãƒœã‚¿ãƒ³**: ã€Œã‚‚ã†ä¸€ã„ã‹ã„ï¼ã€ã€Œæœ¬æ£šã¸ã€

#### ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªç”»é¢ï¼ˆv1.1è¿½åŠ ï¼‰
- **ç›®çš„**: ç´ æç¢ºèª
- **è¡¨ç¤ºå†…å®¹**:
  - ã‚¿ãƒ–1: å®¶ãƒ“ãƒ«ãƒ‰ç´ æ
  - ã‚¿ãƒ–2: ã‚¹ã‚­ãƒ³ç´ æ
  - ã‚¿ãƒ–3: ç‰¹æ®Šç´ æï¼ˆPhase 1ï¼‰
- **Phase 0æ©Ÿèƒ½**: é–²è¦§ã®ã¿
- **Phase 1æ©Ÿèƒ½**: ç´ æä½¿ç”¨

---

## 5. è²©å£²ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆ

### 5-1. è²©å£²æˆ¦ç•¥

#### åŸºæœ¬æ–¹é‡
- **å£²ã‚Šåˆ‡ã‚Šå‹**: ä¸€åº¦è³¼å…¥ã™ã‚Œã°æ°¸ç¶šåˆ©ç”¨å¯èƒ½
- **DLCæ–¹å¼**: ç§‘ç›®ãƒ»å­¦å¹´ã”ã¨ã«è¿½åŠ è³¼å…¥
- **ä½“é¨“ç‰ˆ**: Phase 0ã®ä¸€éƒ¨ã‚’ç„¡æ–™ã§éŠã¹ã‚‹

#### ä¾¡æ ¼è¨­å®šæ–¹é‡
```
ä¾¡æ ¼ã¯å“è³ªã«å¿œã˜ã¦å¾Œæ±ºå®š

è€ƒæ…®è¦ç´ :
1. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ï¼ˆå˜å…ƒæ•°ã€å•é¡Œæ•°ï¼‰
2. é–‹ç™ºã‚³ã‚¹ãƒˆ
3. ç«¶åˆã‚¢ãƒ—ãƒªã®ä¾¡æ ¼
4. ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±¤ã®è³¼è²·åŠ›

æƒ³å®šä¾¡æ ¼å¸¯:
- æœ¬ä½“: 300å††ã€œ1,000å††
- DLC: 100å††ã€œ300å††/ç§‘ç›®ãƒ»å­¦å¹´
```

### 5-2. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãƒ¢ãƒ‡ãƒ«

#### 5-2-1. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼æ–¹å¼

```
PWAã§ã®è²©å£²æ–¹æ³•:

1. å¤–éƒ¨æ±ºæ¸ˆã‚µã‚¤ãƒˆã§è³¼å…¥
   - Stripe, PayPalç­‰
   
2. è³¼å…¥å®Œäº†å¾Œã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ã‚’ç™ºè¡Œ
   - ãƒ¡ãƒ¼ãƒ«é€ä¿¡
   
3. ã‚¢ãƒ—ãƒªå†…ã§ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ã‚’å…¥åŠ›
   - æœ¬æ£šç”»é¢ã®ã€Œãƒ©ã‚¤ã‚»ãƒ³ã‚¹å…¥åŠ›ã€ãƒœã‚¿ãƒ³
   
4. ã‚µãƒ¼ãƒãƒ¼ã§æ¤œè¨¼
   - https://api.grimoire-guardians.com/validate
   
5. æ¤œè¨¼æˆåŠŸã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è§£æ”¾
   - localStorageã«ä¿å­˜
   - ãƒ¯ãƒ¼ãƒ«ãƒ‰è§£æ”¾
```

#### 5-2-2. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ç”Ÿæˆãƒ«ãƒ¼ãƒ«

```javascript
// ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼å½¢å¼
// GG-[ã‚¿ã‚¤ãƒ—]-[ãƒ©ãƒ³ãƒ€ãƒ 16æ¡]-[ãƒã‚§ãƒƒã‚¯ã‚µãƒ 4æ¡]

ä¾‹:
GG-CORE-A3F9D8C2E1B4F7A8-9C2E  // æœ¬ä½“
GG-DLC2-B4E8F9A1C3D5E7F9-1A3B  // ç®—æ•°2å¹´ç”Ÿ
GG-DLCJ-C5F9A2D4E6F8A0B2-2B4C  // å›½èª1å¹´ç”Ÿ

ã‚¿ã‚¤ãƒ—ã‚³ãƒ¼ãƒ‰:
- CORE: æœ¬ä½“ï¼ˆç®—æ•°1å¹´ç”Ÿï¼‰
- DLC2: ç®—æ•°2å¹´ç”Ÿ
- DLC3: ç®—æ•°3å¹´ç”Ÿ
- DLCJ: å›½èª1å¹´ç”Ÿ
- DLCS: ç†ç§‘1å¹´ç”Ÿ
```

#### 5-2-3. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æ¤œè¨¼ãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    participant User
    participant App
    participant Server
    participant DB
    
    User->>App: ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼å…¥åŠ›
    App->>App: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¤œè¨¼
    App->>Server: æ¤œè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    Server->>DB: ã‚­ãƒ¼ã®æœ‰åŠ¹æ€§ç¢ºèª
    DB->>Server: çµæœè¿”å´
    Server->>App: æ¤œè¨¼çµæœ
    App->>App: localStorageä¿å­˜
    App->>User: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è§£æ”¾
```

### 5-3. ä½“é¨“ç‰ˆè¨­è¨ˆ

```javascript
// ä½“é¨“ç‰ˆã®åˆ¶é™
const freeTrialLimits = {
  // æœ€åˆã®3ãƒ¯ãƒ¼ãƒ«ãƒ‰ã¾ã§ç„¡æ–™
  freeWorlds: 3,
  
  // ãã‚Œä»¥é™ã¯ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¿…è¦
  requiresLicense: (worldIndex) => worldIndex >= 3,
  
  // ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã¯ä¿æŒ
  savePersists: true,
  
  // åºƒå‘Šãªã—ï¼ˆé‡è¦ï¼‰
  noAds: true
};

// å®Ÿè£…
class LicenseManager {
  static canAccessWorld(worldId) {
    const worldIndex = parseInt(worldId.split('_')[1]) - 1;
    
    // ç„¡æ–™ç¯„å›²å†…
    if (worldIndex < freeTrialLimits.freeWorlds) {
      return true;
    }
    
    // ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãƒã‚§ãƒƒã‚¯
    const license = this.getLicense();
    return license.core.licensed;
  }
  
  static getLicense() {
    const stored = localStorage.getItem('license');
    return stored ? JSON.parse(stored) : defaultLicense;
  }
}
```

### 5-4. è²©å£²ãƒ¢ãƒ‡ãƒ«ã®æŠ€è¡“å®Ÿè£…è©³ç´°ï¼ˆv1.1è¿½åŠ ï¼‰

#### 5-4-1. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

```javascript
// src/core/LicenseManager.js
class LicenseManager {
  static LICENSE_STORAGE_KEY = 'grimoire_license';
  static API_ENDPOINT = 'https://api.grimoire-guardians.com/validate';
  
  // ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼æ¤œè¨¼
  static async validateLicenseKey(key) {
    // 1. ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¤œè¨¼
    if (!this.isValidFormat(key)) {
      return { valid: false, error: 'Invalid format' };
    }
    
    // 2. ã‚µãƒ¼ãƒãƒ¼æ¤œè¨¼
    try {
      const response = await fetch(this.API_ENDPOINT, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ key })
      });
      
      const result = await response.json();
      
      if (result.valid) {
        // 3. ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
        this.saveLicense(result.licenseData);
        
        // 4. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è§£æ”¾
        this.unlockContent(result.contentType);
        
        return { valid: true, contentType: result.contentType };
      }
      
      return { valid: false, error: result.error };
      
    } catch (error) {
      Logger.error('License validation failed:', error);
      return { valid: false, error: 'Network error' };
    }
  }
  
  // ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¤œè¨¼
  static isValidFormat(key) {
    // GG-[TYPE]-[16æ¡]-[4æ¡]
    const pattern = /^GG-[A-Z0-9]{4}-[A-F0-9]{16}-[A-F0-9]{4}$/;
    return pattern.test(key);
  }
  
  // ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ä¿å­˜
  static saveLicense(licenseData) {
    const current = this.getLicense();
    
    if (licenseData.type === 'CORE') {
      current.core = {
        licensed: true,
        licenseKey: licenseData.key,
        activatedAt: new Date().toISOString(),
        expiresAt: null
      };
    } else {
      // DLC
      current.dlc[licenseData.dlcId] = {
        licensed: true,
        licenseKey: licenseData.key,
        activatedAt: new Date().toISOString()
      };
    }
    
    localStorage.setItem(this.LICENSE_STORAGE_KEY, JSON.stringify(current));
  }
  
  // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è§£æ”¾
  static unlockContent(contentType) {
    if (contentType === 'CORE') {
      // å…¨ãƒ¯ãƒ¼ãƒ«ãƒ‰è§£æ”¾
      GameStore.unlockAllWorlds();
    } else {
      // DLCè§£æ”¾
      ContentManager.loadDLC(contentType);
    }
  }
  
  // ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å–å¾—
  static getLicense() {
    const stored = localStorage.getItem(this.LICENSE_STORAGE_KEY);
    return stored ? JSON.parse(stored) : this.getDefaultLicense();
  }
  
  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ©ã‚¤ã‚»ãƒ³ã‚¹
  static getDefaultLicense() {
    return {
      core: {
        licensed: false,
        licenseKey: '',
        activatedAt: null,
        expiresAt: null
      },
      dlc: {}
    };
  }
  
  // ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚¢ã‚¯ã‚»ã‚¹æ¨©ç¢ºèª
  static canAccessWorld(worldIndex) {
    const license = this.getLicense();
    
    // ç„¡æ–™ç¯„å›²ï¼ˆæœ€åˆã®3ãƒ¯ãƒ¼ãƒ«ãƒ‰ï¼‰
    if (worldIndex < 3) {
      return true;
    }
    
    // ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç¢ºèª
    return license.core.licensed;
  }
  
  // DLCãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç¢ºèª
  static isDLCLicensed(dlcId) {
    const license = this.getLicense();
    return license.dlc[dlcId]?.licensed || false;
  }
}
```

#### 5-4-2. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å…¥åŠ›UI

```javascript
// ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å…¥åŠ›ç”»é¢
class LicenseInputScreen {
  static show() {
    const overlay = document.createElement('div');
    overlay.className = 'license-overlay';
    overlay.innerHTML = `
      <div class="license-dialog">
        <h2>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ã‚’ ã«ã‚…ã†ã‚Šã‚‡ã ã—ã¦ã­</h2>
        
        <!-- ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±è­¦å‘Šï¼ˆv1.2è¿½åŠ ï¼‰ -->
        <div class="warning-box">
          <p>âš ï¸ ã¡ã‚…ã†ã„</p>
          <p>ãƒ–ãƒ©ã‚¦ã‚¶ã® ã‚Šã‚Œãã‚’ ã‘ã™ã¨ã€ãƒ‡ãƒ¼ã‚¿ãŒ ããˆã‚‹ ã“ã¨ãŒ ã‚ã‚Šã¾ã™ã€‚</p>
          <p>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ã¯ ã ã„ã˜ã« ã»ãã‚“ ã—ã¦ã­ï¼</p>
        </div>
        
        <input type="text" id="license-key-input" placeholder="GG-XXXX-XXXXXXXXXXXXXXXX-XXXX" maxlength="31">
        <div class="license-buttons">
          <button id="license-cancel">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
          <button id="license-submit">ã‹ãã«ã‚“</button>
        </div>
        <div id="license-error" class="error-message"></div>
        
        <!-- å¾©å…ƒã«é–¢ã™ã‚‹èª¬æ˜ï¼ˆv1.2è¿½åŠ ï¼‰ -->
        <div class="info-box">
          <p>ğŸ’¡ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ãŒ ã‚ã‚Œã°ã€ãªã‚“ã©ã‚‚ ã«ã‚“ã—ã‚‡ã† ã§ãã¾ã™</p>
        </div>
      </div>
    `;
    
    document.body.appendChild(overlay);
    
    // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
    document.getElementById('license-cancel').addEventListener('click', () => {
      overlay.remove();
    });
    
    document.getElementById('license-submit').addEventListener('click', async () => {
      const key = document.getElementById('license-key-input').value.trim();
      await this.submitLicense(key);
    });
  }
  
  static async submitLicense(key) {
    const errorDiv = document.getElementById('license-error');
    const submitBtn = document.getElementById('license-submit');
    
    // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
    submitBtn.disabled = true;
    submitBtn.textContent = 'ã‹ãã«ã‚“ ã¡ã‚…ã†...';
    errorDiv.textContent = '';
    
    // æ¤œè¨¼
    const result = await LicenseManager.validateLicenseKey(key);
    
    if (result.valid) {
      // æˆåŠŸ
      errorDiv.className = 'success-message';
      errorDiv.textContent = 'âœ… ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ãŒ ã¨ã†ã‚ã ã•ã‚Œã¾ã—ãŸï¼';
      
      setTimeout(() => {
        document.querySelector('.license-overlay').remove();
        // æœ¬æ£šç”»é¢ã‚’æ›´æ–°
        BookshelfScreen.refresh();
      }, 2000);
      
    } else {
      // å¤±æ•—
      errorDiv.className = 'error-message';
      errorDiv.textContent = `âŒ ${result.error}`;
      submitBtn.disabled = false;
      submitBtn.textContent = 'ã‹ãã«ã‚“';
    }
  }
}
```

#### 5-4-3. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¾©å…ƒæ©Ÿèƒ½ï¼ˆv1.2è¿½åŠ ï¼‰

```yaml
æ¦‚è¦:
  PWAç‰¹æœ‰ã®ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±ãƒªã‚¹ã‚¯ã«å¯¾å¿œ
  ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ã•ãˆã‚ã‚Œã°ã€ä½•åº¦ã§ã‚‚å†èªè¨¼ãƒ»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è§£æ”¾ãŒå¯èƒ½

è¨­è¨ˆæ–¹é‡:
  - ã‚µãƒ¼ãƒãƒ¼å´ã§èªè¨¼ãƒ­ã‚°ã‚’ä¿æŒã—ãªã„ï¼ˆã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹ï¼‰
  - ç½²åä»˜ããƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ã§æ¤œè¨¼
  - ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ã®å†å…¥åŠ›ã§å³åº§ã«å¾©å…ƒ

å®Ÿè£…:
  1. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ç”Ÿæˆæ™‚ã«ç½²åã‚’ä»˜ä¸
  2. æ¤œè¨¼æ™‚ã¯ç½²åã®æ­£å½“æ€§ã®ã¿ãƒã‚§ãƒƒã‚¯
  3. ä½¿ç”¨å›æ•°ã®åˆ¶é™ãªã—ï¼ˆåŒä¸€ã‚­ãƒ¼ã§ä½•åº¦ã§ã‚‚èªè¨¼å¯èƒ½ï¼‰

å¾©å…ƒãƒ•ãƒ­ãƒ¼:
  ```mermaid
  sequenceDiagram
      participant User
      participant App
      participant Server
      
      User->>App: ãƒ‡ãƒ¼ã‚¿ãŒæ¶ˆãˆãŸï¼
      User->>App: ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼å†å…¥åŠ›
      App->>Server: æ¤œè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
      Server->>App: ç½²åæ¤œè¨¼OK
      App->>App: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å†è§£æ”¾
      App->>User: å¾©å…ƒå®Œäº†ï¼
  ```

æ³¨æ„äº‹é …ã®è¡¨ç¤º:
  - ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å…¥åŠ›ç”»é¢ã«è­¦å‘Šã‚’è¡¨ç¤º
  - ã€Œãƒ–ãƒ©ã‚¦ã‚¶ã®å±¥æ­´ã‚’æ¶ˆã™ã¨ãƒ‡ãƒ¼ã‚¿ãŒæ¶ˆãˆã‚‹å¯èƒ½æ€§ã€
  - ã€Œãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ã‚’å¤§äº‹ã«ä¿å­˜ã—ã¦ã­ã€
  - ã€Œã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚„ãƒ¡ãƒ¢ã«æ®‹ã™ã¨å®‰å¿ƒã€

ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ã®ä¿ç®¡æ¨å¥¨æ–¹æ³•:
  - è³¼å…¥ç¢ºèªãƒ¡ãƒ¼ãƒ«
  - ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
  - ç´™ã«ãƒ¡ãƒ¢
  - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç®¡ç†ã‚¢ãƒ—ãƒª
```

---

## 6. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ‹¡å¼µè¨­è¨ˆ

### 6-1. DLCè¿½åŠ ãƒ•ãƒ­ãƒ¼

```mermaid
graph TD
    A[Deep Researchå®Ÿæ–½] --> B[å˜å…ƒãƒãƒƒãƒ”ãƒ³ã‚°ä½œæˆ]
    B --> C[å•é¡Œãƒ‡ãƒ¼ã‚¿ä½œæˆ]
    C --> D[DLCãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½œæˆ]
    D --> E[ã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰]
    E --> F[ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ç™ºè¡Œã‚·ã‚¹ãƒ†ãƒ æ›´æ–°]
    F --> G[è²©å£²é–‹å§‹]
```

### 6-2. DLCç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
grimoire-guardians/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ core/              # Phase 0ï¼ˆå¿…é ˆï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ curriculum/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ math-grade1-mapping.js
â”‚   â”‚   â”‚   â””â”€â”€ questions/
â”‚   â”‚   â”‚       â””â”€â”€ math-grade1.js
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ dlc/               # è¿½åŠ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
â”‚   â”‚       â”œâ”€â”€ math-grade2/
â”‚   â”‚       â”‚   â”œâ”€â”€ curriculum/
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ mapping.js
â”‚   â”‚       â”‚   â””â”€â”€ questions/
â”‚   â”‚       â”‚       â””â”€â”€ questions.js
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ math-grade3/
â”‚   â”‚       â””â”€â”€ japanese-grade1/
```

### 6-3. DLCèª­ã¿è¾¼ã¿ã‚·ã‚¹ãƒ†ãƒ 

```javascript
// src/core/ContentManager.js
// @ts-check

/**
 * ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†ã‚¯ãƒ©ã‚¹
 * ã‚³ã‚¢ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨DLCã‚’çµ±åˆçš„ã«ç®¡ç†
 */
export class ContentManager {
  constructor() {
    this.coreContent = null;
    this.dlcContent = new Map();
  }
  
  /**
   * åˆæœŸåŒ–ï¼ˆã‚³ã‚¢ã‚³ãƒ³ãƒ†ãƒ³ãƒ„èª­ã¿è¾¼ã¿ï¼‰
   */
  async init() {
    // Phase 0ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
    const mapping = await import('../data/core/curriculum/math-grade1-mapping.js');
    const questions = await import('../data/core/questions/math-grade1.js');
    
    this.coreContent = {
      mapping: mapping.mathGrade1Mapping,
      questions: questions.questions
    };
  }
  
  /**
   * DLCèª­ã¿è¾¼ã¿
   */
  async loadDLC(subject, grade) {
    const dlcKey = `${subject}-grade${grade}`;
    
    // ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç¢ºèª
    if (!LicenseManager.isDLCLicensed(dlcKey)) {
      throw new Error(`DLC not licensed: ${dlcKey}`);
    }
    
    // æ—¢ã«ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿
    if (this.dlcContent.has(dlcKey)) {
      return this.dlcContent.get(dlcKey);
    }
    
    // DLCèª­ã¿è¾¼ã¿
    try {
      const mapping = await import(`../data/dlc/${dlcKey}/curriculum/mapping.js`);
      const questions = await import(`../data/dlc/${dlcKey}/questions/questions.js`);
      
      const content = {
        mapping: mapping.default,
        questions: questions.default
      };
      
      this.dlcContent.set(dlcKey, content);
      return content;
      
    } catch (error) {
      Logger.error(`Failed to load DLC: ${dlcKey}`, error);
      throw error;
    }
  }
  
  /**
   * åˆ©ç”¨å¯èƒ½ãªå…¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—
   */
  getAllContent() {
    const content = {
      core: this.coreContent,
      dlc: Object.fromEntries(this.dlcContent)
    };
    
    return content;
  }
}
```

### 6-4. Deep Researchçµæœã®å–ã‚Šè¾¼ã¿æ‰‹é †

```markdown
## Deep Research â†’ å®Ÿè£…ãƒ•ãƒ­ãƒ¼

### ã‚¹ãƒ†ãƒƒãƒ—1: Deep Researchå®Ÿæ–½
ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ:
ã€Œå°å­¦1å¹´ç”Ÿã®ç®—æ•°ã®å­¦ç¿’å˜å…ƒã‚’ã€æ–‡éƒ¨ç§‘å­¦çœã®å­¦ç¿’æŒ‡å°è¦é ˜ã«åŸºã¥ã„ã¦
 å˜å…ƒåã€å­¦ç¿’é †åºã€é›£æ˜“åº¦ã€å‰æçŸ¥è­˜ã¨ã¨ã‚‚ã«ãƒªã‚¹ãƒˆåŒ–ã—ã¦ãã ã•ã„ã€

### ã‚¹ãƒ†ãƒƒãƒ—2: çµæœã®æ•´å½¢
Deep Researchçµæœã‚’ä»¥ä¸‹ã®å½¢å¼ã«å¤‰æ›:
```javascript
{
  id: 'unit_001',
  name: 'å˜å…ƒå',
  order: 1,
  category: 'ã‚«ãƒ†ã‚´ãƒª',
  difficulty: 1,
  prerequisites: [],
  estimatedQuestions: 5,
  description: 'èª¬æ˜'
}
```

### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒãƒƒãƒ”ãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°
`src/data/core/curriculum/math-grade1-mapping.js`ã‚’æ›´æ–°

### ã‚¹ãƒ†ãƒƒãƒ—4: å•é¡Œãƒ‡ãƒ¼ã‚¿ä½œæˆ
å„å˜å…ƒã”ã¨ã«å•é¡Œã‚’ä½œæˆ:
`src/data/core/questions/math-grade1.js`

### ã‚¹ãƒ†ãƒƒãƒ—5: å‹•ä½œç¢ºèª
- ãƒ¯ãƒ¼ãƒ«ãƒ‰æ•°ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹
- å•é¡ŒãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹
- ã‚»ãƒ¼ãƒ–/ãƒ­ãƒ¼ãƒ‰ãŒæ©Ÿèƒ½ã™ã‚‹
```

---

## 7. ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿äº’æ›æ€§

### 7-1. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†æˆ¦ç•¥

```javascript
// ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
const saveDataVersions = {
  '0.9.0': {
    // Phase 0åˆæœŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆé–‹ç™ºç‰ˆï¼‰
    structure: 'flat',
    supports: ['math-grade1']
  },
  
  '1.0.0': {
    // Phase 0ãƒªãƒªãƒ¼ã‚¹ç‰ˆ
    structure: 'nested',
    supports: ['math-grade1'],
    migration: migrateFrom_0_9_0
  },
  
  '1.1.0': {
    // DLCå¯¾å¿œç‰ˆ
    structure: 'nested-with-dlc',
    supports: ['math-grade1', 'math-grade2', 'japanese-grade1'],
    migration: migrateFrom_1_0_0
  }
};
```

### 7-2. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†

```javascript
// src/core/SaveMigration.js
// @ts-check

/**
 * ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
 */
export class SaveMigration {
  /**
   * ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¤œå‡ºã¨ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
   */
  static migrate(saveData) {
    const version = saveData.version || '0.9.0';
    
    if (version === '0.9.0') {
      saveData = this.migrateFrom_0_9_0(saveData);
    }
    
    if (version === '1.0.0') {
      saveData = this.migrateFrom_1_0_0(saveData);
    }
    
    return saveData;
  }
  
  /**
   * v0.9.0 â†’ v1.0.0
   */
  static migrateFrom_0_9_0(oldData) {
    return {
      version: '1.0.0',
      core: {
        player: oldData.player || { name: 'ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼' },
        progress: oldData.progress || {},
        inventory: {}  // v1.1ã§è¿½åŠ 
      },
      dlc: {
        installed: [],
        data: {}
      }
    };
  }
  
  /**
   * v1.0.0 â†’ v1.1.0
   */
  static migrateFrom_1_0_0(oldData) {
    return {
      version: '1.1.0',
      core: {
        ...oldData.core,
        inventory: oldData.core.inventory || {}  // ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªè¿½åŠ 
      },
      dlc: oldData.dlc || {
        installed: [],
        data: {}
      }
    };
  }
}
```

### 7-3. ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

```javascript
// ã‚»ãƒ¼ãƒ–å‰ã«è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
class SaveManager {
  async save(data) {
    try {
      // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
      await this.createBackup(data);
      
      // å®Ÿéš›ã®ã‚»ãƒ¼ãƒ–
      await this.saveToIndexedDB(data);
      
      return true;
    } catch (error) {
      // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ
      await this.restoreFromBackup();
      throw error;
    }
  }
  
  async createBackup(data) {
    const backup = {
      data,
      timestamp: Date.now()
    };

    localStorage.setItem('savedata_backup', JSON.stringify(backup));
  }

  // IndexedDB åˆ©ç”¨ä¸å¯æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆv1.3è¿½åŠ ï¼‰
  // ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ©ã‚¦ã‚¸ãƒ³ã‚°ãƒ»Safari ITPç­‰ã§ IndexedDB ãŒä½¿ãˆãªã„å ´åˆ:
  //   1. localStorage ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆé€éçš„ â€” å‘¼ã³å‡ºã—å…ƒã¯å¤‰æ›´ä¸è¦ï¼‰
  //   2. ç”»é¢ä¸Šéƒ¨ã«ãƒãƒŠãƒ¼è¡¨ç¤ºã€Œãƒ‡ãƒ¼ã‚¿ãŒä¸€æ™‚ä¿å­˜ä¸­ã§ã™ã€
  //   3. ã‚²ãƒ¼ãƒ ã®å‹•ä½œã¯ç¶™ç¶šï¼ˆãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±ãƒªã‚¹ã‚¯ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã™ã‚‹ã®ã¿ï¼‰
  _isFallbackMode = false;
  
  async restoreFromBackup() {
    const backup = localStorage.getItem('savedata_backup');
    if (backup) {
      const { data } = JSON.parse(backup);
      await this.saveToIndexedDB(data);
    }
  }
}
```

### 7-4. ãƒ‡ãƒ¼ã‚¿ç§»è¡Œæ©Ÿèƒ½ï¼ˆv1.2è¿½åŠ ï¼‰

```yaml
æ¦‚è¦:
  ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ä¿è­·ã®ãŸã‚ã€æ‰‹å‹•ã§ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã‚’æä¾›

ç›®çš„:
  - PWAã®ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±ãƒªã‚¹ã‚¯ã¸ã®å¯¾ç­–
  - ãƒ‡ãƒã‚¤ã‚¹é–“ã§ã®ãƒ‡ãƒ¼ã‚¿ç§»è¡Œ
  - ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ä½œæˆ

UIé…ç½®:
  - æœ¬æ£šç”»é¢ã®å³ä¸Šã«ã€Œâš™ï¸ ã›ã£ã¦ã„ã€ãƒœã‚¿ãƒ³
  - è¨­å®šç”»é¢ã«ã€Œãƒ‡ãƒ¼ã‚¿ ã„ã©ã†ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³

æ©Ÿèƒ½:
  1. ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆæ›¸ãå‡ºã—ï¼‰
     - ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã‚’JSONå½¢å¼ã§ãƒ†ã‚­ã‚¹ãƒˆåŒ–
     - ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
     - ã¾ãŸã¯ã€ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«è¡¨ç¤ºã—ã¦ã‚³ãƒ”ãƒ¼å¯èƒ½ã«
  
  2. ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆèª­ã¿è¾¼ã¿ï¼‰
     - JSONãƒ†ã‚­ã‚¹ãƒˆã‚’è²¼ã‚Šä»˜ã‘
     - ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼
     - æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã¨ã®çµ±åˆã¾ãŸã¯ä¸Šæ›¸ãé¸æŠ

å®Ÿè£…:
  ```javascript
  // ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
  class DataMigration {
    static exportData() {
      const saveData = SaveManager.load();
      const license = LicenseManager.getLicense();
      
      const exportData = {
        version: '1.0',
        exportedAt: new Date().toISOString(),
        saveData,
        license  // ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã‚‚å«ã‚ã‚‹
      };
      
      const json = JSON.stringify(exportData, null, 2);
      
      // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
      navigator.clipboard.writeText(json).then(() => {
        UI.showMessage('ãƒ‡ãƒ¼ã‚¿ã‚’ ã‚³ãƒ”ãƒ¼ ã—ã¾ã—ãŸï¼');
      });
      
      // ã¾ãŸã¯ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«è¡¨ç¤º
      return json;
    }
    
    // ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
    static async importData(jsonText) {
      try {
        const imported = JSON.parse(jsonText);
        
        // ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
        if (!imported.version) {
          throw new Error('Invalid data format');
        }
        
        // ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼
        if (!this.validateImportData(imported)) {
          throw new Error('Data validation failed');
        }
        
        // ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
        const confirmed = await UI.showConfirm(
          'ãƒ‡ãƒ¼ã‚¿ã‚’ ã‚ˆã¿ã“ã¿ã¾ã™ã‹ï¼Ÿ ã’ã‚“ã–ã„ã® ãƒ‡ãƒ¼ã‚¿ã¯ ã†ã‚ãŒã ã•ã‚Œã¾ã™ã€‚'
        );
        
        if (!confirmed) {
          return;
        }
        
        // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
        await SaveManager.createBackup(SaveManager.load());
        
        // ã‚¤ãƒ³ãƒãƒ¼ãƒˆå®Ÿè¡Œ
        await SaveManager.save(imported.saveData);
        LicenseManager.importLicense(imported.license);
        
        UI.showMessage('ãƒ‡ãƒ¼ã‚¿ã‚’ ã‚ˆã¿ã“ã¿ ã—ã¾ã—ãŸï¼');
        
        // ç”»é¢ãƒªãƒ­ãƒ¼ãƒ‰
        window.location.reload();
        
      } catch (error) {
        Logger.error('Import failed:', error);
        UI.showMessage('ã‚¨ãƒ©ãƒ¼: ãƒ‡ãƒ¼ã‚¿ã‚’ ã‚ˆã¿ã“ã‚ã¾ã›ã‚“ã§ã—ãŸ');
      }
    }
    
    // ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼
    static validateImportData(data) {
      // å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ãƒã‚§ãƒƒã‚¯
      if (!data.saveData || !data.license) {
        return false;
      }
      
      // ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ ãƒã‚§ãƒƒã‚¯
      if (!data.saveData.version || !data.saveData.core) {
        return false;
      }
      
      return true;
    }
  }
  ```

UIå®Ÿè£…:
  ```javascript
  // è¨­å®šç”»é¢
  class SettingsScreen {
    static show() {
      const screen = document.createElement('div');
      screen.className = 'settings-screen';
      screen.innerHTML = `
        <div class="settings-dialog">
          <h2>âš™ï¸ ã›ã£ã¦ã„</h2>
          
          <section class="settings-section">
            <h3>ãƒ‡ãƒ¼ã‚¿ ã„ã©ã†</h3>
            
            <button id="export-data" class="button">
              ğŸ“¤ ãƒ‡ãƒ¼ã‚¿ã‚’ ã‹ãã ã™
            </button>
            <p class="help-text">
              ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã‚’ ã‚³ãƒ”ãƒ¼ ã—ã¾ã™ã€‚<br>
              ãƒ¡ãƒ¢ã‚¢ãƒ—ãƒªãªã©ã« ã¯ã‚Šã¤ã‘ã¦ ã»ãã‚“ ã—ã¦ã­ã€‚
            </p>
            
            <button id="import-data" class="button">
              ğŸ“¥ ãƒ‡ãƒ¼ã‚¿ã‚’ ã‚ˆã¿ã“ã‚€
            </button>
            <p class="help-text">
              ã‚³ãƒ”ãƒ¼ã—ãŸ ãƒ‡ãƒ¼ã‚¿ã‚’ ã‚ˆã¿ã“ã¿ã¾ã™ã€‚
            </p>
          </section>
          
          <button id="close-settings">ã¨ã˜ã‚‹</button>
        </div>
      `;
      
      document.body.appendChild(screen);
      
      // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
      document.getElementById('export-data').addEventListener('click', () => {
        this.showExportDialog();
      });
      
      document.getElementById('import-data').addEventListener('click', () => {
        this.showImportDialog();
      });
      
      document.getElementById('close-settings').addEventListener('click', () => {
        screen.remove();
      });
    }
    
    static showExportDialog() {
      const json = DataMigration.exportData();
      
      const dialog = document.createElement('div');
      dialog.className = 'export-dialog';
      dialog.innerHTML = `
        <div class="dialog-content">
          <h3>ãƒ‡ãƒ¼ã‚¿ ã‹ãã ã—</h3>
          <textarea readonly>${json}</textarea>
          <button id="copy-export">ã‚³ãƒ”ãƒ¼</button>
          <button id="close-export">ã¨ã˜ã‚‹</button>
        </div>
      `;
      
      document.body.appendChild(dialog);
      
      document.getElementById('copy-export').addEventListener('click', () => {
        const textarea = dialog.querySelector('textarea');
        textarea.select();
        document.execCommand('copy');
        UI.showMessage('ã‚³ãƒ”ãƒ¼ ã—ã¾ã—ãŸï¼');
      });
      
      document.getElementById('close-export').addEventListener('click', () => {
        dialog.remove();
      });
    }
    
    static showImportDialog() {
      const dialog = document.createElement('div');
      dialog.className = 'import-dialog';
      dialog.innerHTML = `
        <div class="dialog-content">
          <h3>ãƒ‡ãƒ¼ã‚¿ ã‚ˆã¿ã“ã¿</h3>
          <textarea placeholder="ã“ã“ã« ãƒ‡ãƒ¼ã‚¿ã‚’ ã¯ã‚Šã¤ã‘ã¦ ãã ã•ã„"></textarea>
          <button id="import-execute">ã‚ˆã¿ã“ã‚€</button>
          <button id="close-import">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        </div>
      `;
      
      document.body.appendChild(dialog);
      
      document.getElementById('import-execute').addEventListener('click', async () => {
        const textarea = dialog.querySelector('textarea');
        await DataMigration.importData(textarea.value);
        dialog.remove();
      });
      
      document.getElementById('close-import').addEventListener('click', () => {
        dialog.remove();
      });
    }
  }
  ```

æ³¨æ„äº‹é …:
  - ãƒ‡ãƒ¼ã‚¿ã¯æš—å·åŒ–ã•ã‚Œã¦ã„ãªã„ï¼ˆJSONã®ã¾ã¾ï¼‰
  - å­ä¾›ã§ã‚‚æ‰±ã„ã‚„ã™ã„ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…
  - ä¿è­·è€…å‘ã‘ã®èª¬æ˜ã‚‚è¿½åŠ ã™ã‚‹
```

---

## 8. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### 8-1. å¿…é ˆæŠ€è¡“

```yaml
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰:
  è¨€èª: Pure JavaScript (ES6+)
  ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯: ãªã—ï¼ˆVanilla JSï¼‰
  CSS: Pure CSSï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãªã—ï¼‰
  
ãƒ‡ãƒ¼ã‚¿ç®¡ç†:
  ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿: IndexedDB
  ä¸€æ™‚ãƒ‡ãƒ¼ã‚¿: localStorage
  çŠ¶æ…‹ç®¡ç†: GameStoreï¼ˆè‡ªä½œï¼‰
  
PWA:
  ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ: manifest.json
  Service Worker: sw.js
  ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ: ã‚ã‚Š
  
é–‹ç™ºãƒ„ãƒ¼ãƒ«:
  ã‚¨ãƒ‡ã‚£ã‚¿: VSCode
  AI: Claude Code (Webç‰ˆ)
  ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†: Git + GitHub
  
ãƒ¬ãƒ“ãƒ¥ãƒ¼:
  ã‚³ãƒ¼ãƒ‰: Claude + Gemini
  ãƒ†ã‚¹ãƒˆ: äººé–“ï¼ˆå®Ÿæ©Ÿç¢ºèªï¼‰
```

### 8-2. ç¦æ­¢æŠ€è¡“ï¼ˆPhase 0ï¼‰

```yaml
ç¦æ­¢:
  - jQuery
  - React, Vue, Angular
  - Three.js
  - Canvas APIï¼ˆæ‰‹æ›¸ãé™¤ãï¼‰
  - Web Worker
  - å¤–éƒ¨APIå‘¼ã³å‡ºã—ï¼ˆãƒ©ã‚¤ã‚»ãƒ³ã‚¹æ¤œè¨¼é™¤ãï¼‰
  - npm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
```

### 8-3. ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
grimoire-guardians/
â”œâ”€â”€ index.html              # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ manifest.json           # PWAè¨­å®š
â”œâ”€â”€ sw.js                   # Service Worker
â”‚
â”œâ”€â”€ docs/                   # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ AIæŒ‡ç¤ºæ›¸_v1.1.md
â”‚   â”œâ”€â”€ UIè¨­è¨ˆæ›¸_v1.1.md
â”‚   â”œâ”€â”€ çµ±åˆä»•æ§˜æ›¸_v1.1.md
â”‚   â””â”€â”€ ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—_v1.4.md
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js            # ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼
â”‚   â”‚
â”‚   â”œâ”€â”€ core/               # åŸºç›¤ã‚¯ãƒ©ã‚¹
â”‚   â”‚   â”œâ”€â”€ Config.js
â”‚   â”‚   â”œâ”€â”€ Logger.js
â”‚   â”‚   â”œâ”€â”€ GameStore.js
â”‚   â”‚   â”œâ”€â”€ SaveManager.js
â”‚   â”‚   â”œâ”€â”€ SaveMigration.js
â”‚   â”‚   â”œâ”€â”€ ContentManager.js
â”‚   â”‚   â”œâ”€â”€ LicenseManager.js
â”‚   â”‚   â”œâ”€â”€ DropSystem.js
â”‚   â”‚   â”œâ”€â”€ EventManager.js       â† v1.3è¿½åŠ ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆç™ºç«ãƒ»ç®¡ç†ã®çµ±æ‹¬ï¼‰
â”‚   â”‚   â”œâ”€â”€ RewardMultiplier.js
â”‚   â”‚   â””â”€â”€ ErrorBoundary.js
â”‚   â”‚
â”‚   â”œâ”€â”€ components/         # å†åˆ©ç”¨å¯èƒ½UI
â”‚   â”‚   â”œâ”€â”€ BookCard.js
â”‚   â”‚   â””â”€â”€ ProgressBar.js
â”‚   â”‚
â”‚   â”œâ”€â”€ screens/            # ç”»é¢
â”‚   â”‚   â”œâ”€â”€ BookshelfScreen.js
â”‚   â”‚   â”œâ”€â”€ QuizScreen.js
â”‚   â”‚   â”œâ”€â”€ ResultScreen.js
â”‚   â”‚   â”œâ”€â”€ ClearScreen.js
â”‚   â”‚   â”œâ”€â”€ InventoryScreen.js
â”‚   â”‚   â””â”€â”€ LicenseInputScreen.js
â”‚   â”‚
â”‚   â”œâ”€â”€ events/             # ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆv1.1è¿½åŠ ï¼‰
â”‚   â”‚   â”œâ”€â”€ OmikujiEvent.js
â”‚   â”‚   â”œâ”€â”€ ThreePathsEvent.js
â”‚   â”‚   â”œâ”€â”€ MonsterBattleEvent.js
â”‚   â”‚   â””â”€â”€ TreasureEvent.js
â”‚   â”‚
â”‚   â”œâ”€â”€ effects/            # æ¼”å‡º
â”‚   â”‚   â”œâ”€â”€ SlashEffect.js
â”‚   â”‚   â””â”€â”€ DefeatEffect.js
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/              # æ±ç”¨é–¢æ•°
â”‚   â”‚   â”œâ”€â”€ TypeValidator.js
â”‚   â”‚   â”œâ”€â”€ HapticFeedback.js
â”‚   â”‚   â””â”€â”€ TouchRipple.js
â”‚   â”‚
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ core/           # Phase 0ï¼ˆå¿…é ˆï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ curriculum/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ math-grade1-mapping.js
â”‚   â”‚   â”‚   â””â”€â”€ questions/
â”‚   â”‚   â”‚       â””â”€â”€ math-grade1.js
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ dlc/            # è¿½åŠ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
â”‚   â”‚       â”œâ”€â”€ math-grade2/
â”‚   â”‚       â”œâ”€â”€ japanese-grade1/
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ styles/             # CSS
â”‚       â”œâ”€â”€ common.css
â”‚       â”œâ”€â”€ layout.css
â”‚       â”œâ”€â”€ components.css
â”‚       â””â”€â”€ effects.css
â”‚
â””â”€â”€ assets/                 # ãƒªã‚½ãƒ¼ã‚¹
    â”œâ”€â”€ icons/
    â”œâ”€â”€ fonts/
    â””â”€â”€ sounds/ï¼ˆPhase 1ï¼‰
```

---

### 8-4. ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥ï¼ˆå…¬é–‹ãƒ»æœ¬ç•ªç§»è¡Œè¨ˆç”»ï¼‰

#### é–‹ç™ºä¸­ï¼ˆPhase 0ã€œPhase 1ï¼‰ï¼šGitHub Pages ã‚’ä½¿ã†

**GitHub Pages ã¨ã¯ï¼Ÿï¼ˆåˆã‚ã¦ã®æ–¹å‘ã‘ï¼‰**

GitHubãŒç„¡æ–™ã§æä¾›ã—ã¦ã„ã‚‹ã€Œã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆå…¬é–‹ã‚µãƒ¼ãƒ“ã‚¹ã€ã§ã™ã€‚
GitHubã«ã‚³ãƒ¼ãƒ‰ã‚’ä¿å­˜ï¼ˆpushï¼‰ã™ã‚‹ã ã‘ã§ã€èª°ã§ã‚‚ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
URLãŒè‡ªå‹•çš„ã«ä½œã‚‰ã‚Œã¾ã™ã€‚ç‰¹åˆ¥ãªã‚µãƒ¼ãƒãƒ¼å¥‘ç´„ã‚„é›£ã—ã„ã‚µãƒ¼ãƒãƒ¼è¨­å®šã¯ä¸è¦ã§ã™ã€‚

```
å…¬é–‹URLï¼ˆä¾‹ï¼‰: https://ikawakens-create.github.io/grimoire-guardians/
```

**GitHub Pages ã®è¨­å®šæ–¹æ³•ï¼ˆæœ€åˆã«1å›ã ã‘è¡Œã†æ“ä½œï¼‰:**

```
1. GitHubã®ãƒªãƒã‚¸ãƒˆãƒªãƒšãƒ¼ã‚¸ã‚’é–‹ã
2. ä¸Šéƒ¨ã®ã€ŒSettingsï¼ˆè¨­å®šï¼‰ã€ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯
3. å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã€ŒPagesã€ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ã€ŒSourceï¼ˆã‚½ãƒ¼ã‚¹ï¼‰ã€ã‚’ã€Œmainã€ãƒ–ãƒ©ãƒ³ãƒã€ãƒ•ã‚©ãƒ«ãƒ€ã¯ã€Œ/ (root)ã€ã«è¨­å®š
5. ã€ŒSaveï¼ˆä¿å­˜ï¼‰ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   â†’ æ•°åˆ†å¾Œã«URLãŒç™ºè¡Œã•ã‚Œã‚‹
```

**é–‹ç™ºä¸­ã« GitHub Pages ã‚’ä½¿ã†ãƒ¡ãƒªãƒƒãƒˆ:**

| ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|----------|------|
| ç„¡æ–™ | è²»ç”¨ã‚¼ãƒ­ã§ä½¿ãˆã‚‹ |
| è‡ªå‹•æ›´æ–° | `main` ãƒ–ãƒ©ãƒ³ãƒã«ã‚³ãƒ¼ãƒ‰ã‚’åæ˜ ã™ã‚‹ã ã‘ã§è‡ªå‹•æ›´æ–° |
| å®Ÿæ©Ÿç¢ºèªã«æœ€é© | ã‚¹ãƒãƒ›ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§ã®å‹•ä½œç¢ºèªãŒã§ãã‚‹ |
| å…±æœ‰ãŒç°¡å˜ | URLã‚’é€ã‚‹ã ã‘ã§ãƒ†ã‚¹ãƒˆãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«è¦‹ã›ã‚‰ã‚Œã‚‹ |

---

#### âš ï¸ è£½å“ãƒªãƒªãƒ¼ã‚¹å‰ã«å¿…ãšè¡Œã†ã“ã¨ï¼ˆGitHub Pages ã‹ã‚‰ã®ç§»è¡Œï¼‰

**ãªãœ GitHub Pages ã®ã¾ã¾ã§ã¯è£½å“ç‰ˆã¨ã—ã¦å‡ºã›ãªã„ã®ã‹ï¼Ÿ**

| å•é¡Œ | è©³ç´° |
|------|------|
| å•†æ¥­åˆ©ç”¨ã®åˆ¶é™ | GitHubã®åˆ©ç”¨è¦ç´„ã«ã‚ˆã‚Šã€åç›ŠåŒ–ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ç¶™ç¶šåˆ©ç”¨ã¯åŸå‰‡ä¸å¯ |
| URLãŒãƒ–ãƒ©ãƒ³ãƒ‰ã¨ã—ã¦å¼±ã„ | `github.io` å›ºå®šã§ã€ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆä¾‹: `grimoire-guardians.jp`ï¼‰ãŒä½¿ã„ã«ãã„ |
| ã‚µãƒ¼ãƒãƒ¼å´ã®å‡¦ç†ãŒã§ããªã„ | èª²é‡‘ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹èªè¨¼ãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãªã©ã®æ©Ÿèƒ½ã¯ GitHub Pages ã§ã¯å‹•ã‹ã›ãªã„ |

**ç§»è¡Œæ‰‹é †ï¼ˆè£½å“ãƒªãƒªãƒ¼ã‚¹æ™‚ã«è¡Œã†æ“ä½œï¼‰:**

```
Step 1: GitHub Pages ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹
  - GitHub Settings > Pages > Source ã‚’ã€ŒNoneï¼ˆãªã—ï¼‰ã€ã«å¤‰æ›´
  - ç†ç”±: å•†æ¥­åˆ©ç”¨åˆ¶é™ã‚’å›é¿ã™ã‚‹ãŸã‚

Step 2: æœ¬ç•ªãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã«ç§»è¡Œã™ã‚‹ï¼ˆå€™è£œï¼‰
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ã‚µãƒ¼ãƒ“ã‚¹    â”‚ ç‰¹å¾´                         â”‚ ãŠã™ã™ã‚æ™‚æœŸ    â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Netlify     â”‚ ç„¡æ–™ãƒ—ãƒ©ãƒ³ã‚ã‚Šãƒ»PWAå¯¾å¿œãƒ»    â”‚ Phase 1 ãƒ™ãƒ¼ã‚¿  â”‚
  â”‚             â”‚ ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³å¯               â”‚ ãƒ†ã‚¹ãƒˆæ™‚        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Vercel      â”‚ é«˜é€ŸCDNãƒ»ç„¡æ–™ãƒ—ãƒ©ãƒ³ã‚ã‚Š      â”‚ Phase 1 ãƒ™ãƒ¼ã‚¿  â”‚
  â”‚             â”‚                              â”‚ ãƒ†ã‚¹ãƒˆæ™‚        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ ç‹¬è‡ªã‚µãƒ¼ãƒãƒ¼â”‚ å®Œå…¨ãªè‡ªç”±åº¦                 â”‚ è£½å“ãƒªãƒªãƒ¼ã‚¹æ™‚  â”‚
  â”‚             â”‚ ï¼ˆèª²é‡‘ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å‡¦ç†ã‚‚å¯ï¼‰ â”‚                 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 3: ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å–å¾—ã™ã‚‹ï¼ˆè£½å“ãƒªãƒªãƒ¼ã‚¹æ™‚ï¼‰
  - ä¾‹: grimoire-guardians.jp
  - è²»ç”¨ã®ç›®å®‰: å¹´é–“ 1,000ã€œ3,000 å††ç¨‹åº¦
  - å–å¾—å ´æ‰€: ãŠåå‰.comã€ã•ãã‚‰ãƒ‰ãƒ¡ã‚¤ãƒ³ ãªã©

Step 4: ã‚¢ãƒ—ãƒªã‚¹ãƒˆã‚¢å±•é–‹ï¼ˆå°†æ¥ï¼‰
  - Android: TWAï¼ˆTrusted Web Activityï¼‰ã§Playã‚¹ãƒˆã‚¢ç”³è«‹
  - iOS: WKWebView ãƒ©ãƒƒãƒ‘ãƒ¼ã§AppStoreç”³è«‹
```

**ç§»è¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®ç›®å®‰:**

```
Phase 0ï¼ˆç¾åœ¨ï¼‰  â”€â†’ GitHub Pagesï¼ˆé–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç”¨ï¼‰  â† ä»Šã“ã“
Phase 1          â”€â†’ Netlify or Vercel ã«ç§»è¡Œï¼ˆãƒ™ãƒ¼ã‚¿ãƒ†ã‚¹ãƒˆé–‹å§‹ï¼‰
è£½å“ãƒªãƒªãƒ¼ã‚¹     â”€â†’ ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ + æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼ï¼ˆèª²é‡‘ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¯¾å¿œï¼‰
ã‚¢ãƒ—ãƒªå±•é–‹æ™‚     â”€â†’ TWAï¼ˆAndroidï¼‰/ WKWebViewï¼ˆiOSï¼‰ã§ã‚¢ãƒ—ãƒªã‚¹ãƒˆã‚¢ç”³è«‹
```

> **ã¾ã¨ã‚:** GitHub Pages ã¯ã€Œä½œã‚ŠãªãŒã‚‰è©¦ã™ã€ãŸã‚ã®ä¸€æ™‚çš„ãªç½®ãå ´æ‰€ã§ã™ã€‚
> è£½å“ã¨ã—ã¦è²©å£²ãƒ»é…ä¿¡ã™ã‚‹æ®µéšã«ãªã£ãŸã‚‰ã€å¿…ãšæœ¬ç•ªç’°å¢ƒã«ç§»è¡Œã—ã¦ãã ã•ã„ã€‚

---

### 8-5. ã‚¢ã‚»ãƒƒãƒˆç®¡ç†æ–¹é‡ï¼ˆã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆç§»è¡ŒåŸºæº–ï¼‰

#### ç¾çŠ¶æ–¹é‡ï¼ˆPhase 1 ã¾ã§ï¼‰

```
æ–¹å¼: å€‹åˆ¥ PNG ãƒ•ã‚¡ã‚¤ãƒ«
å ´æ‰€: assets/icons/{category}/{id}.png
  ä¾‹: assets/icons/monsters/mon_01.png
      assets/icons/materials/wood.png
```

**ç†ç”±:**
- Service Worker ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã«ã‚ˆã‚Šã€HTTP å¤šé‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆå•é¡Œã¯è§£æ±ºæ¸ˆã¿
- Gemini ç”»åƒç”Ÿæˆã§1ä½“ãšã¤å·®ã—æ›¿ãˆãŒå®¹æ˜“
- `<img onerror>` ã«ã‚ˆã‚‹çµµæ–‡å­—ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒã‚·ãƒ³ãƒ—ãƒ«ã«å‹•ä½œ
- é–‹ç™ºä¸­ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãã ã‘ã§å³åæ˜ ã•ã‚Œã‚‹

#### ä»Šå¾Œè¿½åŠ ãŒè¦‹è¾¼ã¾ã‚Œã‚‹ç”»åƒã‚«ãƒ†ã‚´ãƒª

| ã‚«ãƒ†ã‚´ãƒª | æƒ³å®šæ•° | è¿½åŠ æ™‚æœŸ |
|---------|------|---------|
| ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ï¼ˆããŠãã®ã„ã›ãï¼‰ | 40ä½“ | Phase 1 âœ… å®Ÿè£…æ¸ˆã¿ |
| ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¹ã‚­ãƒ³ | 20ã€œ30ç¨® | Phase 1-E |
| å®¶ã®å¤–è£…ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ | 15ã€œ20ç¨® | Phase 1-D |
| å®¶ã®å†…è£…ãƒ»å®¶å…· | 50ã€œ80ç¨® | Phase 1-D ä»¥é™ |
| UI ã‚¢ã‚¤ã‚³ãƒ³è¿½åŠ åˆ† | 20ã€œ30ç¨® | éšæ™‚ |
| **åˆè¨ˆï¼ˆæœ€å¤§æƒ³å®šï¼‰** | **ç´„ 200 ç¨®** | Phase 2 é ƒ |

#### ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆã¸ã®ç§»è¡Œãƒˆãƒªã‚¬ãƒ¼ï¼ˆClaude ãŒè‡ªå‹•ææ¡ˆï¼‰

ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã‚’æº€ãŸã—ãŸæ™‚ç‚¹ã§ **Claude ã‹ã‚‰ç§»è¡Œææ¡ˆã‚’è¡Œã†ï¼š**

```
â‘  ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ç·æ•° â‰¥ 150
â‘¡ PWA ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ç”»åƒåˆè¨ˆã‚µã‚¤ã‚º â‰¥ 10MBï¼ˆLighthouse è¨ˆæ¸¬ï¼‰
â‘¢ Phase 2ï¼ˆ2å¹´ç”Ÿã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼‰é–‹å§‹æ™‚
```

#### ç§»è¡Œæ™‚ã®å®Ÿè£…æ–¹é‡

```css
/* ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆä½¿ç”¨ä¾‹ï¼ˆå°†æ¥ï¼‰*/
.monster-icon {
  background-image: url('assets/sprites/monsters-l1.png');
  background-size: 512px 512px;  /* 4x4ã‚°ãƒªãƒƒãƒ‰ */
  background-position: -128px 0; /* mon_02 ã®ä½ç½® */
  width: 128px;
  height: 128px;
}
```

```yaml
ã‚·ãƒ¼ãƒˆæ§‹æˆæ¡ˆï¼ˆç§»è¡Œæ™‚ï¼‰:
  monsters-l1.png: Layer 1ï¼ˆ10ä½“ï¼‰â†’ 1024Ã—512pxï¼ˆ5Ã—2ã‚°ãƒªãƒƒãƒ‰ï¼‰
  monsters-l2.png: Layer 2ï¼ˆ10ä½“ï¼‰â†’ 1024Ã—512px
  monsters-l3.png: Layer 3ï¼ˆ10ä½“ï¼‰â†’ 1024Ã—512px
  monsters-l4.png: Layer 4ï¼ˆ10ä½“ï¼‰â†’ 1024Ã—512px
  skins.png:       ã‚¹ã‚­ãƒ³ä¸€è¦§
  house.png:       å®¶å¤–è£…ãƒ»å®¶å…·

ç”Ÿæˆãƒ„ãƒ¼ãƒ«:
  Node.js ã® canvas ã¾ãŸã¯ sharp ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ ã§è‡ªå‹•ç”Ÿæˆ
  â†’ ã€ŒPNG ã‚’è¿½åŠ ã—ãŸã‚‰ã‚·ãƒ¼ãƒˆã‚’å†ç”Ÿæˆã™ã‚‹ npm scriptã€ã‚’ç”¨æ„
```

> **é–‹ç™ºè€…ã¸:** ç¾æ™‚ç‚¹ã§ã¯å€‹åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¾ã¾ã§é€²ã‚ã¦ãã ã•ã„ã€‚
> ä¸Šè¨˜ãƒˆãƒªã‚¬ãƒ¼ã«é”ã—ãŸæ™‚ç‚¹ã§ Claude ãŒè‡ªå‹•çš„ã«ç§»è¡Œè¨ˆç”»ã‚’ææ¡ˆã—ã¾ã™ã€‚

---

## 9. é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼ˆæ¦‚è¦ï¼‰

è©³ç´°ã¯**ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—v1.4**ã‚’å‚ç…§ã€‚

### 9-1. Phase 0: MVPï¼ˆ6-8é€±é–“ï¼‰

```
Phase 0.1ï¼ˆåŸºç¤ï¼‰: 2-3é€±é–“
- M1-01 ~ M1-06ï¼ˆ6å˜å…ƒï¼‰
- åŸºç›¤ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰
- ã‚¤ãƒ™ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…

Phase 0.2ï¼ˆå¿œç”¨ï¼‰: 2-3é€±é–“
- M1-07 ~ M1-12ï¼ˆ6å˜å…ƒï¼‰
- ç¹°ã‚Šä¸ŠãŒã‚Šãƒ»ç¹°ã‚Šä¸‹ãŒã‚Š
- æ™‚è¨ˆUI

Phase 0.3ï¼ˆç™ºå±•ï¼‰: 1-2é€±é–“
- M1-13 ~ M1-16ï¼ˆ4å˜å…ƒï¼‰
- æ–‡ç« é¡Œ
- Phase 0å®Œäº†è¨˜å¿µ
```

### 9-2. Phase 1: DLCå¯¾å¿œï¼ˆè©³ç´°ã¯åˆ¥é€”ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã§ï¼‰

```
- ç®—æ•°2å¹´ç”Ÿä»¥é™
- ä»–æ•™ç§‘å¯¾å¿œ
- å›³å½¢ãƒ»ç”»åƒå•é¡Œ
- ã‚µã‚¦ãƒ³ãƒ‰ãƒ»æŒ¯å‹•å®Ÿè£…
- å®¶ãƒ“ãƒ«ãƒ‰ãƒ»ã‚¹ã‚­ãƒ³ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
```

### 9-3. Phase 2: æ©Ÿèƒ½æ‹¡å¼µï¼ˆè©³ç´°ã¯åˆ¥é€”ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã§ï¼‰

```
- ããŠãã®ã„ã›ã
- é«˜åº¦ãªã‚¹ã‚­ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
```

---

## 10. ã‚¤ãƒ™ãƒ³ãƒˆãƒ»æ¼”å‡ºã‚·ã‚¹ãƒ†ãƒ è©³ç´°ï¼ˆv1.1è¿½åŠ ï¼‰

è©³ç´°ã¯**ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—v1.4 ã‚»ã‚¯ã‚·ãƒ§ãƒ³3**ã‚’å‚ç…§ã€‚

### 10-1. ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§

```yaml
Phase 0ã§å®Ÿè£…ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ:
  - ãŠã¿ãã˜ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼ˆã‚¯ãƒªã‚¢å ±é…¬ãƒ–ãƒ¼ã‚¹ãƒˆï¼‰
  - 3ã¤ã®é“ï¼ˆãƒ¬ã‚¢ãªé“5%å«ã‚€ï¼‰
  - ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ãƒãƒˆãƒ«ï¼ˆãƒ¬ã‚¢ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼5%å«ã‚€ï¼‰
  - å®ç®±ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼ˆãƒŸãƒŸãƒƒã‚¯10%å«ã‚€ï¼‰
  - Phaseå®Œäº†è¨˜å¿µ

ã‚¤ãƒ™ãƒ³ãƒˆé…ç½®åŸå‰‡:
  - 1å˜å…ƒã«1ã‚¤ãƒ™ãƒ³ãƒˆã®ã¿
  - åŒã˜ã‚¤ãƒ™ãƒ³ãƒˆãŒé€£ç¶šã—ãªã„
  - é›£æ˜“åº¦ã«å¿œã˜ãŸé…ç½®
```

### 10-2. ãŠã¿ãã˜ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼ˆv1.2è©³ç´°ç‰ˆï¼‰

```yaml
æ¦‚è¦:
  ã‚¹ãƒ†ãƒ¼ã‚¸ã‚¯ãƒªã‚¢æ™‚ã®å ±é…¬å€ç‡ãƒãƒ•åŠ¹æœ
  ãã®å ´ã§ã®å ±é…¬ã§ã¯ãªãã€ã‚¯ãƒªã‚¢æ™‚ã«é©ç”¨ã•ã‚Œã‚‹

è¨­è¨ˆæ€æƒ³:
  ã€Œæœ€å¾Œã¾ã§è§£ã“ã†ã€ã¨ã„ã†ç¶™ç¶šå‹•æ©Ÿã‚’ç”Ÿã‚€
  Ã—3å€ãªã‚‰ã€Œã›ã£ã‹ãã ã‹ã‚‰å…¨éƒ¨è§£ã“ã†ï¼ã€ã¨æ€ã‚ã›ã‚‹

ç¢ºç‡:
  ã ã„ãã¡: 10% â†’ ã‚¯ãƒªã‚¢å ±é…¬Ã—3å€
  ãã¡: 60% â†’ ã‚¯ãƒªã‚¢å ±é…¬Ã—1.5å€
  ãã‚‡ã†: 30% â†’ ãŠã¾ã‚‚ã‚Šï¼ˆ1å›ãƒŸã‚¹OKï¼‰

UIè©³ç´°ï¼ˆv1.2è¿½åŠ ï¼‰:
  1. ãŠã¿ãã˜çµæœè¡¨ç¤ºå¾Œã€ç”»é¢å³ä¸Šã«ã‚¢ã‚¤ã‚³ãƒ³ã‚’å¸¸é§
     
     ã ã„ãã¡ã®å ´åˆ:
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  Ã—3   â”‚  â† é‡‘è‰²ã®èƒŒæ™¯ã€ãƒ‘ãƒ«ã‚¹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     
     ãã¡ã®å ´åˆ:
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ Ã—1.5  â”‚  â† éŠ€è‰²ã®èƒŒæ™¯
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     
     ãã‚‡ã†ã®å ´åˆ:
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  ğŸ›¡ï¸   â”‚  â† ãŠã¾ã‚‚ã‚Šã‚¢ã‚¤ã‚³ãƒ³
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  
  2. ã‚¢ã‚¤ã‚³ãƒ³ã®ä½ç½®:
     position: fixed;
     top: 20px;
     right: 20px;
     z-index: 1000;
  
  3. ã‚¢ã‚¤ã‚³ãƒ³ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³:
     @keyframes pulse {
       0%, 100% { transform: scale(1); }
       50% { transform: scale(1.1); }
     }
     animation: pulse 2s infinite;
  
  4. ã‚¹ãƒ†ãƒ¼ã‚¸ã‚¯ãƒªã‚¢æ™‚ã®æ¼”å‡º:
     - é€šå¸¸ã®ã‚¯ãƒªã‚¢æ¼”å‡º
     - ã€Œã»ã†ã—ã‚…ã† Ã—3ï¼ã€ã¨å¤§ããè¡¨ç¤º
     - ã‚¹ã‚¿ãƒ¼æ•°ãŒã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—
       ã€Œã‚¹ã‚¿ãƒ¼Ã—10... Ã—3... 30ã“ ã‚²ãƒƒãƒˆï¼ã€
     - ç´ æã‚‚åŒæ§˜ã«å€ç‡é©ç”¨
  
  5. å€ç‡é©ç”¨ã®è¦–è¦šåŒ–:
     before: ã‚¹ã‚¿ãƒ¼Ã—10
     â†“ (ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³: æ•°å­—ãŒå…‰ã‚‹)
     after: ã‚¹ã‚¿ãƒ¼Ã—30 âœ¨
  
  6. ã‚¢ã‚¤ã‚³ãƒ³æ¶ˆå»ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
     ã‚¯ãƒªã‚¢æ¼”å‡ºå®Œäº†å¾Œã€ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆã—ã¦æ¶ˆãˆã‚‹

å®Ÿè£…:
  RewardMultiplier.jsï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³5ã§è©³è¿°ï¼‰
  
ã‚³ãƒ¼ãƒ‰ä¾‹:
  ```javascript
  // ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º
  static showIcon(text) {
    const icon = document.createElement('div');
    icon.className = 'multiplier-icon';
    icon.textContent = text;
    icon.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #FFD700, #FFA500);
      color: #333;
      padding: 15px 25px;
      border-radius: 20px;
      font-size: 28px;
      font-weight: bold;
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      animation: pulse 2s infinite;
    `;
    document.body.appendChild(icon);
  }
  
  // ã‚¯ãƒªã‚¢æ™‚ã®å€ç‡æ¼”å‡º
  static async showMultiplierEffect(multiplier) {
    await UI.showMessage(`ã»ã†ã—ã‚…ã† Ã—${multiplier}ï¼`, 2000);
    
    // æ•°å­—ãŒã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
    // ä¾‹: 10 â†’ 30 ã®å ´åˆã€10ã‹ã‚‰30ã¾ã§å¾ã€…ã«å¢—ãˆã‚‹
  }
  ```
```

### 10-3. 3ã¤ã®é“ï¼ˆv1.2ç¢ºå®šç‰ˆ - ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—v1.4ã¨çµ±ä¸€ï¼‰

```yaml
é€šå¸¸ã®é“ï¼ˆ95%ï¼‰:
  ã‚‚ã‚Šã€ã‚„ã¾ã€ã†ã¿

ãƒ¬ã‚¢ãªé“ï¼ˆ5%ï¼‰:
  ğŸŒˆ ã«ã˜ã® ã¿ã¡
  ğŸ­ ãŠã‹ã—ã® ã¿ã¡ â† v1.2: ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—v1.4ã¨çµ±ä¸€
  ğŸŒŸ ã»ã—ãã‚‰ã® ã¿ã¡
  ğŸ”® ã¾ã»ã†ã® ã¿ã¡
  
  â€»ã€ŒãŠã‹ã—ã® ã¿ã¡ã€ã¯å°å­¦1å¹´ç”Ÿã«è¦–è¦šçš„ã§åˆ†ã‹ã‚Šã‚„ã™ã„
  
å ±é…¬:
  ãƒ¬ã‚¢ç´ æç¢ºå®š
  ã‚¹ã‚¿ãƒ¼Ã—50
  
å®Ÿè£…:
  ThreePathsEvent.js

è©³ç´°:
  ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—v1.4 ã‚»ã‚¯ã‚·ãƒ§ãƒ³3-2å‚ç…§
```

### 10-4. ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ãƒãƒˆãƒ«

```yaml
é€šå¸¸ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ï¼ˆ95%ï¼‰:
  ã‚„ã‚„é›£ã—ã„å•é¡Œ
  2-3å•ã§æ’ƒç ´
  
ãƒ¬ã‚¢ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ï¼ˆ5%ï¼‰:
  éŠ€è‰²ã«å…‰ã‚‹
  ãƒ¬ã‚¢ç´ æç¢ºå®š
  ã‚¹ã‚¿ãƒ¼Ã—50
  
å®Ÿè£…:
  MonsterBattleEvent.js
```

### 10-5. å®ç®±ãƒãƒ£ãƒ¬ãƒ³ã‚¸

```yaml
é€šå¸¸ã®å®ç®±ï¼ˆ90%ï¼‰:
  ç¢ºå®šãƒ‰ãƒ­ãƒƒãƒ—
  
ãƒŸãƒŸãƒƒã‚¯ï¼ˆ10%ï¼‰:
  ç®±ãŒæ•µã«å¤‰èº«
  é€šå¸¸ã‚ˆã‚Šè‰¯ã„å ±é…¬
  ãƒ¬ã‚¢ç´ æç¢ºå®š
  
å®Ÿè£…:
  TreasureEvent.js
```

---

## 11. ç´ æãƒ»ãƒ‰ãƒ­ãƒƒãƒ—ã‚·ã‚¹ãƒ†ãƒ è©³ç´°ï¼ˆv1.1è¿½åŠ ï¼‰

è©³ç´°ã¯**ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—v1.4 ã‚»ã‚¯ã‚·ãƒ§ãƒ³4**ã‚’å‚ç…§ã€‚

### 11-1. ç´ æã®ç¨®é¡

```yaml
å®¶ãƒ“ãƒ«ãƒ‰ç”¨:
  ğŸªµ ã‚‚ãã–ã„ - ã‚³ãƒ¢ãƒ³
  ğŸª¨ ã„ã— - ã‚³ãƒ¢ãƒ³
  ğŸ§± ãƒ¬ãƒ³ã‚¬ - ã‚¢ãƒ³ã‚³ãƒ¢ãƒ³
  âœ¨ ãã‚‰ãã‚‰ã„ã— - ãƒ¬ã‚¢
  ğŸŒŸ ã»ã—ã®ã‹ã‘ã‚‰ - è¶…ãƒ¬ã‚¢

ã‚¹ã‚­ãƒ³ç”¨:
  ğŸ§µ ã¬ã® - ã‚³ãƒ¢ãƒ³
  ğŸ¨ ãˆã®ã - ã‚¢ãƒ³ã‚³ãƒ¢ãƒ³
  ğŸ‘‘ ãŠã†ã‹ã‚“ - ãƒ¬ã‚¢
  ğŸ¦¸ ãƒãƒ³ãƒˆ - ãƒ¬ã‚¢
  ğŸ”® ã¾ã»ã†ã®ãŸã¾ - è¶…ãƒ¬ã‚¢

ç‰¹æ®Šç´ æï¼ˆPhase 1ï¼‰:
  ğŸ€ ãƒ©ãƒƒã‚­ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒãƒ¼
  â° ã‚¿ã‚¤ãƒ ã‚¹ãƒˆãƒ¼ãƒ³
  ğŸ›¡ï¸ ã‚·ãƒ¼ãƒ«ãƒ‰
```

### 11-2. ãƒ‰ãƒ­ãƒƒãƒ—ç¢ºç‡ï¼ˆTODOï¼‰

```yaml
Phase 0å®Œæˆå¾Œã«èª¿æ•´:
  é€šå¸¸å•é¡Œ: 30-40%
  ãŠã¿ãã˜: ã‚¯ãƒªã‚¢å ±é…¬å€ç‡
  é€šå¸¸ã®é“: 60-80%
  ãƒ¬ã‚¢ãªé“: 100%ï¼ˆãƒ¬ã‚¢ç¢ºå®šï¼‰
  é€šå¸¸ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼: 70-80%
  ãƒ¬ã‚¢ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼: 100%ï¼ˆãƒ¬ã‚¢ç¢ºå®šï¼‰
  é€šå¸¸å®ç®±: 100%
  ãƒŸãƒŸãƒƒã‚¯: 100%ï¼ˆãƒ¬ã‚¢ç¢ºå®šï¼‰
```

### 11-3. ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒªã‚·ã‚¹ãƒ†ãƒ 

```yaml
Phase 0:
  é–²è¦§ã®ã¿
  
Phase 1:
  å®¶ãƒ“ãƒ«ãƒ‰ã§ä½¿ç”¨
  ã‚¹ã‚­ãƒ³ã§ä½¿ç”¨
  
å®Ÿè£…:
  InventoryScreen.js
  DropSystem.js
```

---

## 12. P0è‡ªå·±QA

### P0-1. ç¦æ­¢ãƒ¯ãƒ¼ãƒ‰æ¤œå‡º
æ¤œè¨¼æ–¹æ³•: æ­£è¦è¡¨ç¾æ¤œç´¢
çµæœ: 0ä»¶ï¼ˆä¾‹å¤–ãƒ«ãƒ¼ãƒ«é©ç”¨å¾Œï¼‰

### P0-2. è¦æ±‚å®šç¾©ã®å…¨é …ç›®ã‚«ãƒãƒ¼
æ¤œè¨¼æ–¹æ³•: è¦æ±‚YAMLã¨ã®çªåˆ
çµæœ: 100%

### P0-3. ç›®æ¬¡ã¨å®Ÿéš›ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒä¸€è‡´
æ¤œè¨¼æ–¹æ³•: ç›®æ¬¡ã®å„é …ç›®ãŒå­˜åœ¨ã™ã‚‹ã‹
çµæœ: OK

### P0-4. ç›¸äº’å‚ç…§ãŒå…¨ã¦æœ‰åŠ¹
æ¤œè¨¼æ–¹æ³•: ã‚»ã‚¯ã‚·ãƒ§ãƒ³ç•ªå·ã®å­˜åœ¨ç¢ºèª
çµæœ: OK

### P0-5. å…¨ã¦ã®å›³è¡¨ã«èª¬æ˜ãŒã‚ã‚‹
æ¤œè¨¼æ–¹æ³•: å›³è¡¨ã®å‰å¾Œã«èª¬æ˜æ–‡ãŒã‚ã‚‹ã‹
çµæœ: OKï¼ˆMermaidå›³ã«èª¬æ˜ã‚ã‚Šï¼‰

### P0-6. å‰ææ¡ä»¶ãŒå…¨ã¦è¨˜è¼‰
æ¤œè¨¼æ–¹æ³•: ä¾å­˜é–¢ä¿‚ãŒæ˜ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹
çµæœ: OKï¼ˆä¾å­˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¨˜è¼‰æ¸ˆã¿ï¼‰

### P0-7. ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆãŒå®Ÿè¡Œå¯èƒ½
æ¤œè¨¼æ–¹æ³•: å„é …ç›®ã«æ¤œè¨¼æ–¹æ³•ãŒã‚ã‚‹ã‹
çµæœ: OK

### P0-8. YAML Front MatterãŒå®Œå…¨
æ¤œè¨¼æ–¹æ³•: å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ç¢ºèª
çµæœ: OK

### P0-9. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸ã®å°ç·š
æ¤œè¨¼æ–¹æ³•: æœ€å¾Œã«å°ç·šãŒã‚ã‚‹ã‹
çµæœ: OKï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³9ã§ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—è¨€åŠï¼‰

### P0-10. ä¾‹å¤–å‡¦ç†ãŒç¶²ç¾…
æ¤œè¨¼æ–¹æ³•: ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®åˆ—æŒ™
çµæœ: OKï¼ˆSaveMigration, LicenseManagerç­‰ï¼‰

## ç·åˆè©•ä¾¡
åˆæ ¼åŸºæº–: 10/10é …ç›®ãŒã€ŒOKã€
çµæœ: 10/10
åˆ¤å®š: åˆæ ¼

---

## ğŸŒˆ Serendipity Section

ğŸ’¡ **ææ¡ˆ: ã€ŒãŠã‚„ã“ãƒ¢ãƒ¼ãƒ‰ã€**

**èª¬æ˜:**
ä¿è­·è€…ãŒå­ä¾›ã¨ä¸€ç·’ã«éŠã¹ã‚‹å”åŠ›ãƒ¢ãƒ¼ãƒ‰ã€‚
ä¿è­·è€…ãŒå•é¡Œã‚’èª­ã¿ä¸Šã’ã€å­ä¾›ãŒç­”ãˆã‚‹å½¢å¼ã€‚
ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ1å°ã§è¦ªå­ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¿ƒé€²ã€‚

**Phase:**
- Phase 0: æ¤œè¨ã®ã¿
- Phase 2: ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆæ¬¡ç¬¬ã§å®Ÿè£…

**æ¡ç”¨åˆ¤æ–­:**
- â–¡ Phase 0ã§å®Ÿè£…
- â–¡ Phase 1ã§æ¤œè¨
- âœ… Phase 2ã§æ¤œè¨ï¼ˆã‚¢ãƒ³ã‚±ãƒ¼ãƒˆæ¬¡ç¬¬ï¼‰

---

## ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

**âœ… æœ¬çµ±åˆä»•æ§˜æ›¸v1.3ã¯æ‰¿èªæ¸ˆã¿ãƒ»å‡çµ**

æ‰¿èªçŠ¶æ³:
- âœ… Geminiç›¸äº’ãƒ¬ãƒ“ãƒ¥ãƒ¼: æ‰¿èª
- âœ… äººé–“ã®æœ€çµ‚æ‰¿èª: æ‰¿èª
- âœ… ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—v1.4ã¨ã®æ•´åˆæ€§ç¢ºèª: å®Œäº†

å‡çµæ¡ä»¶:
- âœ… Geminiç›¸äº’ãƒ¬ãƒ“ãƒ¥ãƒ¼: æ‰¿èª
- âœ… äººé–“ã®æœ€çµ‚æ‰¿èª: æ‰¿èª
- âœ… Deep Researchçµæœã®åæ˜ : å®Œäº†ï¼ˆãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—v1.4çµŒç”±ï¼‰

å‡çµæ—¥: 2026-02-19

å¤‰æ›´å±¥æ­´:
- v1.0: åˆç‰ˆä½œæˆ
- v1.1: ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤å‰Šé™¤ã€ç­†è¨˜å•é¡ŒPhase 0åŒ–ã€ãƒ¯ãƒ¼ãƒ«ãƒ‰æ•°å‹•çš„åŒ–ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ç´ æã‚·ã‚¹ãƒ†ãƒ è©³ç´°è¿½è¨˜ã€è²©å£²ãƒ¢ãƒ‡ãƒ«è©³ç´°åŒ–
- v1.2: Geminiãƒ¬ãƒ“ãƒ¥ãƒ¼åæ˜ 
  - ãƒ¬ã‚¢ãªé“åç§°çµ±ä¸€ï¼ˆãŠã‹ã—ã®é“ï¼‰
  - ãŠã¿ãã˜UIè©³ç´°ï¼ˆç”»é¢å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ã€å€ç‡æ¼”å‡ºï¼‰
  - ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¾©å…ƒæ©Ÿèƒ½æ˜è¨˜
  - ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±è­¦å‘Šè¿½åŠ 
  - ç­†è¨˜å•é¡Œä»•æ§˜ç¢ºå®šï¼ˆç°¡æ˜“çš„ãªå½¢çŠ¶ãƒãƒƒãƒãƒ³ã‚°ï¼‰
  - ãƒ‡ãƒ¼ã‚¿ç§»è¡Œæ©Ÿèƒ½è¿½åŠ ï¼ˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼‰
- v1.3: Week3ä»•æ§˜è¿½åŠ ï¼ˆ2026-02-19ï¼‰
  - ResultScreenè©³ç´°åŒ–ï¼ˆæ˜Ÿè©•ä¾¡â­ã€œâ­â­â­ã€èŠ±ä¸¸æ¼”å‡ºã€ClearScreençµ±åˆï¼‰
  - ãŒã‚“ã°ã£ãŸã§è³ï¼ˆæœªã‚¯ãƒªã‚¢æ™‚ã®èŠ±ä¸¸æ¼”å‡ºãƒ»å…¨7ãƒ•ã‚§ãƒ¼ã‚ºï¼‰
  - EventManager.js ã‚’ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã«è¿½åŠ 
  - currentSession ã« streak / maxStreak ã‚’è¿½åŠ 
  - SaveManager ã® IndexedDB fallback æ–¹é‡ã‚’æ˜è¨˜

---

**ä½œæˆæ—¥:** 2026-02-15
**æœ€çµ‚æ›´æ–°:** 2026-02-22
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³:** 1.4
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:** æ‰¿èªæ¸ˆã¿ãƒ»å‡çµ
**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:** Phase 0.1 Week3 å®Ÿè£…é–‹å§‹

**v1.3ã§ã®ä¸»è¦è¿½åŠ :**
- ResultScreen ã®å®Œå…¨ä»•æ§˜åŒ–ï¼ˆæ˜Ÿè©•ä¾¡ãƒ»èŠ±ä¸¸æ¼”å‡ºãƒ»ClearScreençµ±åˆï¼‰
- ãŒã‚“ã°ã£ãŸã§è³ï¼ˆSVGèŠ±ä¸¸ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å…¨7ãƒ•ã‚§ãƒ¼ã‚ºï¼‰
- EventManager ã«ã‚ˆã‚‹ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†ã®ä¸€å…ƒåŒ–
- currentSession.streak ã§ã‚¹ãƒˆãƒªãƒ¼ã‚¯æ©Ÿèƒ½ã‚’å®Ÿè£…å¯èƒ½ã«
- SaveManager ã® IndexedDB åˆ©ç”¨ä¸å¯æ™‚ã®å®‰å…¨ãª fallback è¨­è¨ˆ

**v1.4ã§ã®ä¸»è¦è¿½åŠ :**
- ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥ï¼ˆ8-4ï¼‰: GitHub Pagesï¼ˆé–‹ç™ºç”¨ï¼‰â†’ æœ¬ç•ªç’°å¢ƒã¸ã®ç§»è¡Œæ‰‹é †ãƒ»ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’æ˜è¨˜
- è£½å“ç‰ˆãƒªãƒªãƒ¼ã‚¹å‰ã« GitHub Pages ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹æ—¨ã‚’æ˜è¨˜

---

**Happy Coding! ğŸ®ğŸ“š**
